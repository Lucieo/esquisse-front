{"version":3,"sources":["images/crayons.jpeg","images/loader.gif","images/artist.gif","images/sherlock.png","images/wrong.png","images/lapin.png","images/summer-night.jpg","sounds/nightSounds.mp3","sounds/open_bottle.mp3","sounds/bbqsound.mp3","sounds/chips.mp3","sounds/moustique.mp3","images/pencil.svg","layouts/AuthPage/Login/index.js","graphQL/mutations.js","layouts/AuthPage/Signup/index.js","components/Sloggan.js","layouts/AuthPage/index.js","graphQL/queries.js","components/Loading.js","components/GameControls/CreateGame.js","graphQL/localState.js","components/requireAuth.js","components/LastGames/index.js","layouts/ConnectedPages/Home/index.js","components/ProfileItems/IconSelector.js","layouts/ConnectedPages/Profile/index.js","components/Modal/index.js","components/SketchbookDisplay/index.js","layouts/ConnectedPages/Game/GameOver.js","components/PlayerItem.js","components/GameControls/AdminGameControls.js","components/GameControls/PlayerControls.js","graphQL/subscriptions.js","layouts/ConnectedPages/Game/NewGame.js","components/Counter/Countdown.js","components/StopGame/index.js","components/Counter/applyCountdown.js","components/GameModes/GuessingMode/index.js","components/GameModes/DrawingMode/DeleteLastStroke.js","components/GameModes/DrawingMode/DeleteAll.js","components/GameModes/DrawingMode/DrawingTools.js","components/GameModes/DrawingMode/index.js","components/GameModes/InitMode/index.js","components/GameModes/SubmitMode/index.js","components/GameModes/index.js","layouts/ConnectedPages/Game/ActiveGame.js","components/NothingToSee.js","layouts/ConnectedPages/Game/OnGoingGame.js","images/beer.svg","images/bbq.svg","images/bowl.svg","images/insecticide.svg","components/SummerNight/index.js","layouts/ConnectedPages/Game/index.js","components/LogoutBtn.js","components/Header/index.js","components/ConnectedPageContainer.js","components/PdfFormat/index.js","layouts/ConnectedPages/index.js","index.js","images/gearLoader.gif"],"names":["module","exports","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","d","_ref4","_ref5","_ref6","_ref","svgRef","title","props","height","viewBox","width","ref","ForwardRef","forwardRef","LOGIN_USER","gql","Login","useState","email","setEmail","password","setPassword","loginErrors","setLoginErrors","setFormValid","client","useApolloClient","useMutation","onCompleted","login","localStorage","setItem","token","writeData","data","isLoggedIn","window","location","reload","onError","error","currentError","toString","loginUser","loading","className","style","minHeight","onSubmit","e","preventDefault","variables","placeholder","type","value","onChange","setter","valid","errors","isEmail","checkForm","onClick","switchMode","SIGNUP_USER","MODIFY_USER","JOIN_GAME","LEAVE_GAME","SUBMIT_PAGE","CHANGE_GAME_STATUS","SignUp","name","setName","signupErrors","setSignupErrors","isFormValid","signupUser","newValue","valueName","isLength","min","styles","red","color","orange","yellow","green","blue","Sloggan","cache","InMemoryCache","link","HttpLink","uri","ApolloClient","BasicHome","mode","setMode","background","CrayonsBG","CURRENT_USER","LAST_GAMES","GET_USER_ID","GET_GAME_INFO","GET_ALL_SKETCHBOOKS","GET_SKETCHBOOK_DETAILS","loadingWrapper","display","alignItems","loadingImage","maxWidth","margin","Loading","src","loader","alt","CREATE_GAME","CreateGame","history","useHistory","createGame","push","id","createGameData","IS_LOGGED_IN","localType","requireAuth","WrappedComponent","useQuery","LastGames","fetchPolicy","gearLoader","getLastUserGames","map","game","index","to","sketchbooks","sketchbook","pages","content","user","currentUser","iconColor","borderColor","icon","availableIcons","IconSelector","selectedIcon","setIcon","setIconColor","response","refetchQueries","query","modifyUser","modifyData","maxLength","event","hex","Modal","open","children","closeModal","SketchbookDisplay","initialCreator","creator","initialWord","restOfPages","slice","page","pageType","disabled","hideGrid","loadTimeOffset","saveData","hideInterface","GameOver","gameId","setSketchbook","openedModal","setOpenedModal","getAllSketchbooks","endGif","PlayerItem","player","admin","AdminGameControls","players","newStatus","launchGame","copied","setCopied","text","href","onCopy","PlayerControls","joinGame","hasJoined","GAME_UPDATE","PLAYER_UPDATE_SUBSCRIPTION","TIME_TO_SUBMIT","NewGame","playerslist","creatorId","setCreator","setPlayers","useSubscription","onSubscriptionData","subscriptionData","playerUpdate","isGameAdmin","loadingSub","Countdown","timer","submiter","date","Date","now","renderer","hours","minutes","seconds","onComplete","StopGame","GearLoader","applyCountdown","useParams","finished","setFinished","submit","setSubmit","console","log","useEffect","header","document","getElementById","sticky","offsetTop","scrollCallBack","addEventListener","pageYOffset","classList","add","remove","removeEventListener","lastPage","sketchbookId","setContent","submitPage","onbeforeunload","DeleteLastStroke","undo","DrawingControls","clear","DrawingTools","setBrushColor","setBrushRadius","brushRadius","colors","brushColor","getSaveData","canvasDraw","lazyRadius","canvasWidth","canvasHeight","Sherlock","timers","GameMode","turn","gameMode","getGameMode","gameProps","gameInfo","userId","setPages","nextIndex","sketchbooksMaxIndexes","newIndex","getSketchbookId","getSketchbookInfo","NothingToSee","Wrong","illustration","marginTop","marginNull","pageWrapper","justifyContent","flexDirection","OnGoingGame","class","Lapin","x","y","transform","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","enableBackground","xmlSpace","SummerNight","summerNightMode","setSummerNightMode","playSound","soundId","play","Bg","SummerSound","autoPlay","loop","OpenBottle","BbqSound","CrispsSound","MosquitoSound","setGameInfo","leaveGame","getGameInfo","gameUpdate","dataSub","status","selectGameStatus","LogoutButton","ConnectedPageContainer","PdfFormat","httpLink","headers","authorization","getItem","wsLink","WebSocketLink","options","reconnect","split","definition","getMainDefinition","kind","operation","credentials","resolvers","dataIdFromObject","o","ConnectedPaged","path","exact","Profile","IsLoggedIn","Root","ReactDOM","render","querySelector"],"mappings":"yJAAAA,EAAOC,QAAU,IAA0B,sC,oBCA3CD,EAAOC,QAAU,IAA0B,oC,oBCA3CD,EAAOC,QAAU,IAA0B,oC,oBCA3CD,EAAOC,QAAU,IAA0B,sC,oBCA3CD,EAAOC,QAAU,IAA0B,mC,oBCA3CD,EAAOC,QAAU,IAA0B,mC,oBCA3CD,EAAOC,QAAU,IAA0B,0C,oBCA3CD,EAAOC,QAAU,IAA0B,yC,oBCA3CD,EAAOC,QAAU,IAA0B,yC,oBCA3CD,EAAOC,QAAU,IAA0B,sC,oBCA3CD,EAAOC,QAAU,IAA0B,mC,oBCA3CD,EAAOC,QAAU,IAA0B,uC,kiBCA3C,SAASC,IAA2Q,OAA9PA,EAAWC,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAASS,EAAyBP,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxMgB,CAA8BZ,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,IAAI,EAAqB,IAAMoB,cAAc,OAAQ,CACnDC,EAAG,y7EAGD,EAAqB,IAAMD,cAAc,OAAQ,CACnDC,EAAG,wKAGDC,EAAqB,IAAMF,cAAc,OAAQ,CACnDC,EAAG,ySAGDE,EAAqB,IAAMH,cAAc,OAAQ,CACnDC,EAAG,4TAGDG,EAAqB,IAAMJ,cAAc,OAAQ,CACnDC,EAAG,wZAGD,EAAY,SAAmBI,GACjC,IAAIC,EAASD,EAAKC,OACdC,EAAQF,EAAKE,MACbC,EAAQjB,EAAyBc,EAAM,CAAC,SAAU,UAEtD,OAAoB,IAAML,cAAc,MAAOvB,EAAS,CACtDgC,OAAQ,QACRC,QAAS,cACTC,MAAO,QACPC,IAAKN,GACJE,GAAQD,EAAqB,IAAMP,cAAc,QAAS,KAAMO,GAAS,KAAM,EAAO,EAAOL,EAAOC,EAAOC,IAG5GS,EAAa,IAAMC,YAAW,SAAUN,EAAOI,GACjD,OAAoB,IAAMZ,cAAc,EAAWvB,EAAS,CAC1D6B,OAAQM,GACPJ,O,GAEU,I,0UCvCf,IAAMO,EAAaC,IAAH,KAaD,SAASC,EAAMT,GAAO,IAAD,EACNU,mBAAS,IADH,mBACzBC,EADyB,KAClBC,EADkB,OAEAF,mBAAS,IAFT,mBAEzBG,EAFyB,KAEfC,EAFe,OAGMJ,mBAAS,IAHf,mBAGzBK,EAHyB,KAGZC,EAHY,OAIIN,oBAAS,GAJb,mBAIZO,GAJY,WAM1BC,EAASC,cANiB,EAOQC,YAAYb,EAAY,CAC5Dc,YAD4D,YACtC,IAATC,EAAQ,EAARA,MACTC,aAAaC,QAAQ,iBAAkB,UAAUF,EAAMG,OACvDP,EAAOQ,UAAU,CAAEC,KAAM,CAAEC,YAAY,KACvCC,OAAOC,SAASC,UAEpBC,QAN4D,WAMzC,IAAD,uBAAPC,EAAO,yBAAPA,EAAO,gBACd,IAAMC,EAAeD,EAAM,GAAGE,WAC3BD,EAAa/C,QAAQ,kBAAkB,GACtC6B,EAAe,yCAhBK,mBAOzBoB,EAPyB,cAOZC,QAPY,EAOHJ,MA2B7B,OACI,yBAAKK,UAAU,aACX,wDACA,uBAAGA,UAAU,WAAWC,MAAO,CAACC,UAAU,KAAMzB,GAChD,0BAAM0B,SAAU,SAACC,GACbA,EAAEC,iBACFP,EAAU,CAACQ,UAAU,CAACjC,QAAOE,gBAE7B,2BACIgC,YAAY,QACZC,KAAK,QACLC,MAAOpC,EACPqC,SAAU,SAACN,IAzBT,SAACK,EAAOE,GACtBA,EAAOF,GACP,IAAIG,GAAQ,EACRC,EAAS,GACVJ,IAAUK,kBAAQL,KACjBG,GAAQ,EACRC,EAAO,iCAETJ,IAAUlC,KAAcqC,GAAQ,GAClClC,EAAemC,GACflC,EAAaiC,GAgBGG,CAAUX,EAAEtE,OAAO2E,MAAOnC,MAGlC,2BACIkC,KAAK,WACLD,YAAY,WACZE,MAAOlC,EACPmC,SAAU,SAACN,GAAD,OAAK5B,EAAY4B,EAAEtE,OAAO2E,UAExC,4BAAQT,UAAS,gBAAWzB,IAAaF,IAAU,WAAlC,qBAAjB,UAEI,uBAAG2B,UAAU,uBAAb,UAEJ,uBAAGA,UAAU,gBAAgBgB,QAAS,kBAAItD,EAAMuD,eAAhD,+B,+0CC7ET,IAAMC,EAAchD,IAAH,KASXiD,EAAcjD,IAAH,KAUXkD,EAAYlD,IAAH,KAQTmD,EAAanD,IAAH,KAQVoD,EAAcpD,IAAH,KAQXqD,EAAqBrD,IAAH,K,OCxChB,SAASsD,EAAO9D,GAAO,IAAD,EACPU,mBAAS,IADF,mBAC1BC,EAD0B,KACnBC,EADmB,OAEDF,mBAAS,IAFR,mBAE1BG,EAF0B,KAEhBC,EAFgB,OAGTJ,mBAAS,IAHA,mBAG1BqD,EAH0B,KAGpBC,EAHoB,OAIOtD,mBAAS,IAJhB,mBAI1BuD,EAJ0B,KAIZC,EAJY,OAKGxD,oBAAS,GALZ,mBAK1ByD,EAL0B,KAKblD,EALa,OAMQG,YAAYoC,EAAa,CAC9DnC,YAD8D,WAE1DQ,OAAOC,SAASC,YARS,mBAM1BqC,EAN0B,YAY3Bf,GAZ2B,EAMZhB,QANY,EAMHJ,MAMZ,SAACoC,EAAUC,EAAWrB,GACpCA,EAAOoB,GACP,IAAInB,GAAQ,EACRC,EAAS,GAEE,UAAZmB,GAAwBlB,kBAAQiB,GAIf,aAAZC,GAA2BC,mBAASF,EAAU,CAACG,IAAI,IAIvC,SAAZF,GAAuBC,mBAASF,EAAU,CAACG,IAAI,MACnDtB,GAAQ,EACRC,EAAO,mDALPD,GAAQ,EACRC,EAAO,4DALPD,GAAQ,EACRC,EAAO,iCAWTxC,IAAUE,IAAakD,KAAUb,GAAQ,GAE3CgB,EAAgBf,GAChBlC,EAAaiC,KAGjB,OACI,yBAAKZ,UAAU,aACX,oDACA,uBAAGA,UAAU,WAAWC,MAAO,CAACC,UAAU,KAAMyB,GAChD,0BACIxB,SAAU,SAACC,GACXA,EAAEC,iBACFyB,EAAW,CAACxB,UAAU,CAACjC,QAAOE,WAAUkD,YAE5C,2BACIlB,YAAY,MACZE,MAAOgB,EACPf,SAAU,SAACN,GAAKW,EAAUX,EAAEtE,OAAO2E,MAAO,OAAQiB,MAEtD,2BACInB,YAAY,QACZC,KAAK,QACLC,MAAOpC,EACPqC,SAAU,SAACN,GAAKW,EAAUX,EAAEtE,OAAO2E,MAAO,QAASnC,MAEvD,2BACIkC,KAAK,WACLD,YAAY,eACZE,MAAOlC,EACPmC,SAAU,SAACN,GAAKW,EAAUX,EAAEtE,OAAO2E,MAAO,WAAYjC,MAG1D,4BAAQwB,UAAS,eAAU6B,GAAe,WAAzB,sBAAjB,UAEI,uBAAG7B,UAAU,uBAAb,UAEJ,uBAAGA,UAAU,iBAAiBgB,QAAS,kBAAItD,EAAMuD,eAAjD,wCCvEZ,IAAMkB,EAAQ,CACVC,IAAI,CAACC,MAAM,WACXC,OAAO,CAACD,MAAO,WACfE,OAAO,CAACF,MAAM,WACdG,MAAM,CAACH,MAAO,WACdI,KAAK,CAACJ,MAAO,YAGF,SAASK,IACpB,OACI,oCACI,0BAAMzC,MAAOkC,EAAOC,KAApB,KACA,0BAAMnC,MAAOkC,EAAOG,QAApB,KACA,0BAAMrC,MAAOkC,EAAOI,QAApB,KAHJ,OAKI,0BAAMtC,MAAOkC,EAAOK,OAApB,KACA,0BAAMvC,MAAOkC,EAAOM,MAApB,KANJ,OAQI,0BAAMxC,MAAOkC,EAAOC,KAApB,KACA,0BAAMnC,MAAOkC,EAAOG,QAApB,KACA,0BAAMrC,MAAOkC,EAAOI,QAApB,KACA,0BAAMtC,MAAOkC,EAAOK,OAApB,MAXJ,OAaI,0BAAMvC,MAAOkC,EAAOM,MAApB,KACA,0BAAMxC,MAAOkC,EAAOC,KAApB,KACA,0BAAMnC,MAAOkC,EAAOG,QAApB,KACA,0BAAMrC,MAAOkC,EAAOI,QAApB,KACA,0BAAMtC,MAAOkC,EAAOK,OAApB,M,qCCfNG,EAAQ,IAAIC,IACZC,EAAO,IAAIC,IAAS,CACzBC,IAAgF,+CAG3EnE,EAAS,IAAIoE,IAAa,CAC/BL,QACAE,SAIc,SAASI,IAAY,IAAD,EACP7E,mBAAS,SADF,mBACxB8E,EADwB,KAClBC,EADkB,KAE/B,OACI,kBAAC,IAAD,CAAgBvE,OAAQA,GACpB,yBAAKoB,UAAU,YAAYC,MAAO,CAACmD,WAAW,OAAD,OAASC,IAAT,OACzC,kBAAC,EAAD,CAAMrD,UAAU,oBAChB,wBAAIA,UAAU,oBAAd,iBACA,yBAAKA,UAAU,qBACX,wBAAIA,UAAU,UACV,kBAAC0C,EAAD,OAGO,UAAPQ,EACE,kBAAC,EAAD,CAAOjC,WAAY,kBAAIkC,EAAQ,aAC/B,kBAAC3B,EAAD,CAAQP,WAAY,kBAAIkC,EAAQ,e,21CCrCnD,IAAMG,GAAepF,IAAH,MAYZqF,GAAarF,IAAH,MAaVsF,GAActF,IAAH,MAMXuF,GAAevF,IAAF,MAoBbwF,GAAsBxF,IAAH,KAcnByF,GAAyBzF,IAAH,K,8BChE7BiE,GAAO,CACTyB,eAAe,CACXC,QAAQ,OACRC,WAAW,SACXnG,OAAO,uBAEXoG,aAAa,CACTC,SAAS,OACTnG,MAAM,IACNoG,OAAO,WAGA,SAASC,KACpB,OACI,yBAAKjE,MAAOkC,GAAOyB,gBACf,yBAAKO,IAAKC,KAAQC,IAAI,SAASpE,MAAOkC,GAAO4B,gB,6HCbzD,IAAMO,GAAcpG,IAAH,MAQF,SAASqG,KACpB,IAAMC,EAAUC,cADgB,EAEO3F,YACnCwF,GACA,CACIvF,YADJ,YAC8B,IAAb2F,EAAY,EAAZA,WACTF,EAAQG,KAAR,gBAAsBD,EAAWE,QANb,mBAEzBF,EAFyB,UAEZG,eASpB,OACI,oCACI,8CACA,4BACA7D,QAAS,kBAAI0D,KACb1E,UAAU,OAFV,oB,sVCzBL,IAAM8E,GAAe5G,IAAH,MAYZ6G,IANU7G,IAAH,MAMIA,IAAF,OCWP8G,GApBK,SAACC,GAiBjB,OAhBY,SAACvH,GAAS,IACV2B,EAAS6F,YAASJ,IAAlBzF,KACJmF,EAAUC,cAEd,OAAGpF,EAAKC,WAEA,kBAAC2F,EACOvH,IAKZ8G,EAAQG,KAAK,KACN,wC,2BCZJ,SAASQ,KAAY,IAAD,EACED,YAAS3B,GACtC,CACI6B,YAAY,iBAFZ/F,EADuB,EACvBA,KAAMU,EADiB,EACjBA,QADiB,EACRJ,MAKvB,OACI,yBAAKK,UAAU,cACX,uDACA,qFAEID,GACA,6BACI,yBAAKC,UAAU,qBAAqBmE,IAAKkB,QAK7ChG,GAAQA,EAAKiG,iBAAiBrJ,OAAO,EACnCoD,EAAKiG,iBAAiBC,KAAI,SAACC,EAAMC,GAC/B,OACI,yBAAKzF,UAAU,2BACf7D,IAAKsJ,GAEL,kBAAC,IAAD,CAAMC,GAAI,SAASF,EAAKZ,IACpB,yBAAK5E,UAAU,2BACX,yBAAKA,UAAU,qBACX,gDACA,uBAAGA,UAAU,kBAAb,mBAEJ,6BAEQwF,EAAKG,YAAYJ,KAAI,SAACK,EAAYH,GAAb,OAAsB,0BAAMtJ,IAAKsJ,GAAiB,IAARA,GAAc,KAAlC,IAAyCG,EAAWC,MAAM,GAAGC,mBAQ/H,wDCPFd,WA9Bf,WACmBnG,cAAf,IADW,EAEsBqG,YAC7B5B,GACA,CACI8B,YAAa,iBAHb/F,EAFG,EAEHA,KAAMU,EAFH,EAEGA,QAQd,GAVW,EAEYJ,MAQpBI,EAAS,OAAO,kBAACmE,GAAD,MAEnB,IAAM6B,EAAO1G,GAAQA,EAAK2G,YAG1B,OACI,yBAAKhG,UAAU,yBACX,uBAAGA,UAAU,4CAA4CC,MAAO,CAACoC,MAAO0D,EAAKE,UAAWC,YAAaH,EAAKE,YAAaF,EAAKI,MAC5H,yCACA,4BAAKJ,EAAKtE,MACV,qCACA,kBAAC,IAAD,CAAMiE,GAAG,WAAW1F,UAAU,OAA9B,uBAGA,kBAACuE,GAAD,MACA,kBAAC,GAAD,UChCN6B,I,OAAiB,CACnB,YAAa,gBAAiB,MAAO,6BAA8B,kBAAmB,QAAS,UAAW,eAAgB,YAAa,cAAe,aAAc,eAAgB,eAAgB,iBAAkB,QAAS,aAAc,OAAQ,SAAU,aAAc,cAAe,kBAAmB,iBAAkB,OAAQ,kBAAmB,QAAS,UAAW,YAAa,eAAgB,gBAAiB,WAAY,SAAU,oBAAqB,8BAA+B,gBAAiB,OAG9e,SAASC,GAAT,GAA+C,IAAxBC,EAAuB,EAAvBA,aAAcC,EAAS,EAATA,QAChD,OACI,yBAAKvG,UAAU,iBAEPoG,GAAeb,KAAI,SAACY,EAAMV,GAAP,OACnB,uBACItJ,IAAKsJ,EACLzF,UAAS,+BAA0BsG,IAAeH,GAAQ,iBAC1DnF,QAAW,WAAKuF,EAAQJ,KAEvBA,O,aCgENnB,I,OAAAA,IAtEA,WAAK,IAAD,EACS5G,mBAAS,aADlB,mBACR+H,EADQ,KACFI,EADE,OAEmBnI,mBAAS,cAF5B,mBAER6H,EAFQ,KAEGO,EAFH,OAGSpI,mBAAS,IAHlB,mBAGRqD,EAHQ,KAGFC,EAHE,KAIX8C,EAAUC,cAJC,EAMkBS,YAC7B5B,GACA,CAAE8B,YAAa,eACXrG,YADJ,SACgBM,GACRqC,EAAQrC,EAAK2G,YAAYvE,MACzB8E,EAAQlH,EAAK2G,YAAYG,MAAQ,aACjCK,EAAanH,EAAK2G,YAAYC,WAAa,gBANzClG,GANC,EAMPV,KANO,EAMDU,SANC,KAMQJ,MAWab,YAAYqC,EAAa,CACzDb,UAAW,CAACmB,OAAM0E,OAAMF,aACxBlH,YAFyD,SAE7C0H,GACRjC,EAAQG,KAAK,MAEjB+B,eAAgB,CAAC,CACbC,MAAOrD,QAvBA,mBAiBRsD,EAjBQ,UAiBMC,WAWrB,OAAG9G,EAAgB,qCAGf,yBAAKC,UAAU,qBACX,yBAAKA,UAAU,OACX,yBAAKA,UAAU,iBACX,uBAAGA,UAAS,+BAA0BiG,GACtChG,MAAO,CAACoC,MAAM4D,IACZE,IAEN,yBAAKnG,UAAU,UACX,0CACA,2BACIO,YAAY,MACZE,MAAOgB,EACPf,SAAU,SAACN,GAAD,OAAKsB,EAAQtB,EAAEtE,OAAO2E,QAChCqG,UAAW,MAGnB,6BACI,yCACA,kBAACT,GAAD,CACIE,QAASA,EACTD,aAAcH,IAElB,sCACA,kBAAC,gBAAD,CACIzF,SAAW,SAAC2B,EAAO0E,GAAR,OAAgBP,EAAcnE,EAAM2E,SAGvD,yBAAKhH,UAAU,2BACX,4BACAA,UAAU,MACVgB,QAAW,kBAAI4F,MAFf,sB,sCCnEL,SAASK,GAAMvJ,GAC1B,OACI,yBAAKsC,UAAS,wBAAmBtC,EAAMwJ,MAAQ,SAC3C,yBAAKlH,UAAU,qCACVtC,EAAMyJ,UAEf,yBAAKnH,UAAU,gBAAgBgB,QAAS,kBAAItD,EAAM0J,iB,oBCJ3C,SAASC,GAAT,GAAyC,IAAbzB,EAAY,EAAZA,WACjC0B,EAAiB1B,EAAWC,MAAM,GAAG0B,QAAQ9F,KAC7C+F,EAAc5B,EAAWC,MAAM,GAAGC,QAClC2B,EAAc7B,EAAWC,MAAM6B,MAAM,GAC3C,OACI,6BACI,yBAAK1H,UAAU,IACX,4BAAKwH,GACL,6CAAgBF,IAEpB,yBAAKtH,UAAU,IAEPyH,EAAYlC,KACR,SAACoC,EAAMlC,GACH,MAAmB,YAAhBkC,EAAKC,SAEJ,yBACAzL,IAAKsJ,GAED,6BAHJ,mEAGyE,2CAAiBkC,EAAKJ,QAAQ9F,MACnG,kBAAC,KAAD,CACIzB,UAAU,sBACV6H,UAAQ,EACRC,UAAQ,EACRC,eAAgB,EAChBC,SAAUL,EAAK7B,QACfmC,eAAe,KAOvB,yBAAK9L,IAAKsJ,GACN,6BACA,qDAAwBkC,EAAKJ,QAAQ9F,MACrC,2BAAIkG,EAAK7B,e,WCuB9BoC,GArDE,SAAC,GAAY,IAAXC,EAAU,EAAVA,OAAU,EACW/J,qBADX,mBAClBwH,EADkB,KACNwC,EADM,OAEahK,oBAAS,GAFtB,mBAElBiK,EAFkB,KAELC,EAFK,OAGMpD,YAASxB,GAAqB,CACzDpD,UAAU,CAAC6H,YADR9I,EAHkB,EAGlBA,KAAMU,EAHY,EAGZA,QAHY,EAGHJ,MAItB,GAAGI,EAAS,OAAO,kBAACmE,GAAD,MACnB,IAAMyB,EAActG,GAAQA,EAAKkJ,kBACjC,OACI,yBAAKvI,UAAU,UACX,sCACA,gEACA,gGACA,6BAAK,kBAAC,IAAD,CAAM0F,GAAI,QAAQyC,GAAQ,4BAAQnI,UAAU,0BAAlB,iCAC/B,yBAAKA,UAAU,iBAAiBmE,IAAKqE,KAAQnE,IAAI,WACjD,6BAEIsB,GACAA,EAAYJ,KAAI,SAACK,EAAYH,GACzB,OACI,yBAAKtJ,IAAKsJ,EAAOzF,UAAU,iCACvB,4BACAA,UAAU,4BACVgB,QAAS,WACLoH,EAAcxC,GACd0C,GAAe,KAEjB1C,EAAWC,MAAM,GAAG0B,QAAQ9F,KAN9B,MAMuCmE,EAAWC,MAAM,GAAGC,cAOvEF,GACA,kBAAC,GAAD,CACIsB,KAAMmB,EACNjB,WAAY,WACRkB,GAAe,GAAQF,MAG3B,kBAAC,GAAD,CACIxC,WAAYA,O,UCpDrB,SAAS6C,GAAT,GAAqC,IAAhBC,EAAe,EAAfA,OAAQC,EAAO,EAAPA,MACxC,OACI,oCACI,wBAAI3I,UAAU,mBACV,uBAAGA,UAAU,iBAAiBC,MAAO,CAACoC,MAAOqG,EAAOzC,YAAayC,EAAOvC,MACxE,8BAAOuC,EAAOjH,MAFlB,KAEiCkH,GAAS,kD,qBCGvC,SAASC,GAAT,GAA8C,IAAlBT,EAAiB,EAAjBA,OAAQU,EAAS,EAATA,QAAS,EACf/J,YAAYyC,EAAoB,CAACjB,UAAU,CAAC6H,SAAQW,UAAU,YAD/C,mBACjDC,EADiD,YACnChJ,EADmC,EACnCA,QADmC,KAC1BJ,MACFvB,oBAAS,IAFmB,mBAEjD4K,EAFiD,KAEzCC,EAFyC,KAGxD,OAAGlJ,EAAgB,8BAEf,oCACI,yBAAKC,UAAU,UACX,yBAAKA,UAAU,8BACX,8IACA,4FACA,uBAAGA,UAAU,uBAAuBgJ,GAAU,uCAC9C,kBAAC,mBAAD,CAAiBE,KAAM3J,OAAOC,SAAS2J,KACnCC,OAAQ,kBAAKH,GAAU,KACvB,uBAAGjJ,UAAU,OAAOT,OAAOC,SAAS2J,QAG5C,6BAEIN,EAAQ5M,OAAO,EACb,oCAAE,uDAAyB,4BAAQ+D,UAAU,MAAMgB,QAAS,kBAAI+H,MAArC,kBAC3B,+FC5BP,SAASM,GAAT,GAAiE,IAAxCC,EAAuC,EAAvCA,SAAUC,EAA6B,EAA7BA,UAAWV,EAAkB,EAAlBA,QAAS9I,EAAS,EAATA,QAyBlE,OACI,yBAAKC,UAAU,YAxBXuJ,EAcGV,EAAQ5M,OAAO,EACP,wHAGA,8GAjBP8D,EASO,iDAPH,oCACI,0KACA,4BAAQiB,QAAS,kBAAIsI,KAAYtJ,UAAU,OAA3C,yB,yvBCPjB,IAAMwJ,GAActL,IAAH,MAmBXuL,GAA6BvL,IAAH,MAc1BwL,GAAiBxL,IAAH,MCoCZyL,GAxDC,SAAC,GAAoC,IAAnCxB,EAAkC,EAAlCA,OAAQyB,EAA0B,EAA1BA,YAAaC,EAAa,EAAbA,UAAa,EAClBzL,mBAASyL,GADS,mBACzCtC,EADyC,KAChCuC,EADgC,OAElB1L,mBAAS,aAAIwL,IAFK,mBAEzCf,EAFyC,KAEhCkB,EAFgC,KAGlC/D,EAAgBd,YAAS5B,IAAhCjE,KAAO2G,YAHkC,EAITlH,YAAYsC,EAAW,CAACd,UAAU,CAAC6H,YAJ1B,mBAIzCmB,EAJyC,YAI7BvJ,EAJ6B,EAI7BA,QAJ6B,KAIpBJ,MACRb,YAAYuC,EAAY,CAACf,UAAU,CAAC6H,aALR,uBAMnB6B,YACzBP,GAA4B,CAACnJ,UAAU,CAAC6H,UACxC8B,mBAAoB,YAA8B,EAA5BrL,OAA6B,IAArBsL,EAAoB,EAApBA,iBAC1BH,EAAWG,EAAiB7K,KAAK8K,aAAatB,SAC9CiB,EAAWI,EAAiB7K,KAAK8K,aAAa5C,aAMhD6C,GAhB0C,EAMxC/K,KANwC,EAMlCgL,WAUOrE,EAAYpB,KAAO2C,GAClCgC,EAAYV,EAAQtD,KAAI,SAAAmD,GAAM,OAAEA,EAAO9D,MAAI/H,QAAQmJ,EAAYpB,KAAK,EAW1E,OACI,yBAAK5E,UAAU,YACX,+CACCoK,GAAe,kBAACxB,GAAD,CAAmBT,OAAQA,EAAQU,QAASA,KAC1DuB,GAAe,kBAACf,GAAD,CAAgBC,SAAUA,EAAUvJ,QAASA,EAAS8I,QAASA,EAASU,UAAWA,IACpG,wBAAIvJ,UAAU,UAAd,0FACA,yBAAKA,UAAU,OACX,yBAAKA,UAAU,8BACf,uBAAGA,UAAU,gCAAb,yBACA,yIAEA,oHACA,kGACA,6HACA,sLAEA,yBAAKA,UAAU,gCACX,uBAAGA,UAAU,2BAAb,oDACQ6I,EAAQ5M,OAAO,EAzB/B,wBAAI+D,UAAU,cACT6I,EAAQtD,KAAI,SAACmD,EAAQjD,GAAT,OAAiB,kBAACgD,GAAD,CAAYtM,IAAKsJ,EAAOiD,OAAQA,EAAQC,MAAOD,EAAO9D,KAAO2C,QA0B7E,2D,UC5Df,SAAS+C,GAAT,GAAsC,IAAlBC,EAAiB,EAAjBA,MAAOC,EAAU,EAAVA,SAStC,OACA,yBAAKxK,UAAU,cACX,kBAAC,KAAD,CACAyK,KAAMC,KAAKC,MAAQJ,EACnBK,SAZkB,SAAC,GAAgC,IAA9BC,EAA6B,EAA7BA,MAAOC,EAAsB,EAAtBA,QAASC,EAAa,EAAbA,QACrC,OACI,2BACI,uBAAG/K,UAAU,wBAAb,gBACA,8BAAO6K,EAAP,IAAeC,EAAf,IAAyBC,KASjCC,WAAY,kBAAIR,Q,OCbT,SAASS,KACpB,OACI,yBAAKjL,UAAU,YACX,yBAAKA,UAAU,qBACX,8CACA,6MACA,qEACA,yBAAKA,UAAU,mBAAmBmE,IAAK+G,KAAY7G,IAAI,iBAE3D,yBAAKrE,UAAU,uB,WCkDZmL,GAvDQ,SAAClG,GAoDpB,OAnDY,SAACvH,GAAS,IACXyK,EAAUiD,cAAVjD,OADU,EAEe/J,oBAAS,GAFxB,mBAEViN,EAFU,KAEAC,EAFA,OAGWlN,oBAAS,GAHpB,mBAGVmN,EAHU,KAGFC,EAHE,KAKIxB,YACjBN,GAAgB,CAACpJ,UAAU,CAAC6H,UAC5B8B,mBAAoB,YAA8B,EAA5BrL,OAA4B,EAApBsL,iBAC1BuB,QAAQC,IAAI,kBACZF,GAAU,MAKlBG,qBAAU,WACN,IAAMC,EAASC,SAASC,eAAe,aACjCC,EAASH,EAAOI,UAChBC,EAAiB1M,OAAO2M,iBAAiB,UAAU,WACnD3M,OAAO4M,YAAcJ,EACvBH,EAAOQ,UAAUC,IAAI,UAErBT,EAAOQ,UAAUE,OAAO,aAG5B,OAAO,WACL/M,OAAOgN,oBAAoB,SAAUN,MAEtC,IAYL,OACI,oCACA,yBAAKjM,UAAU,SAAyB4E,GAAG,aAVtCyG,EAIA,kBAAC,GAAD,MAHA,kBAACf,GAAD,CACDC,MAAO7M,EAAM6M,MACbC,SAAU,kBAAIc,GAAY,OAU9B,kBAACrG,EAAD,iBACQvH,EADR,CAEI2N,SAAUE,QCCXJ,I,OAAAA,IAhDO,SAAC,GAA8C,IAA7CqB,EAA4C,EAA5CA,SAAUnB,EAAkC,EAAlCA,SAAUoB,EAAwB,EAAxBA,aAActE,EAAU,EAAVA,OAAU,EAClC/J,mBAAS,IADyB,mBACzD0H,EADyD,KAChD4G,EADgD,OAG1B5N,YAAYwC,EAAa,CAC3DhB,UAAW,CACPwF,UACA8B,SAJS,WAKTO,SACAsE,gBAEJ1N,YAAY,WACR0M,QAAQC,IAAI,gCAAiCe,EAAc,gBAAiB3G,MAXpB,mBAGzD6G,EAHyD,cAG5C5M,QAH4C,EAGnCJ,MAuBzB,OAXJJ,OAAOqN,eAAiB,WACpBnB,QAAQC,IAAI,gBACZiB,KAGJhB,qBAAU,WACHN,GACCsB,MAEL,CAACtB,IAGI,yBAAKrL,UAAU,UACX,sDACA,kBAAC,KAAD,CACAA,UAAU,wBACV6H,UAAQ,EACRC,UAAQ,EACRC,eAAgB,EAChBC,SAAUwE,EAAS1G,QACnBmC,eAAe,IAEf,iDACA,2BACI1H,YAAY,qBACZsH,SAAUwD,EACV3K,SAAU,SAAAN,GAAC,OAAEsM,EAAWtM,EAAEtE,OAAO2E,e,gBC9CtC,SAASoM,GAAT,GAAqC,IAAV/G,EAAS,EAATA,QACtC,OACI,yBAAK9F,UAAU,2BACX,yBACIA,UAAU,+BACVgB,QAAS,WAAO8E,EAAQgH,SAF5B,0BCHG,SAASC,GAAT,GAAoC,IAAVjH,EAAS,EAATA,QACrC,OACI,yBAAK9F,UAAU,2BACX,yBACIA,UAAU,mCACVgB,QAAS,WAAO8E,EAAQkH,UAExB,uBAAGhN,UAAU,uBAAb,kBAJJ,iBCDG,SAASiN,GAAT,GAA6E,IAAtDC,EAAqD,EAArDA,cAAeC,EAAsC,EAAtCA,eAAgBC,EAAsB,EAAtBA,YAAatH,EAAS,EAATA,QAC9E,OACI,yBAAK9F,UAAU,wBACX,kBAAC,GAAD,CACA8F,QAASA,IAET,yBAAK9F,UAAU,wBACX,gDACA,kBAAC,gBAAD,CACAU,SAAW,SAAC2B,EAAO0E,GAAR,OAAgBmG,EAAc7K,EAAM2E,MAC/CqG,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAU,UAAW,UAAU,WACpQhL,MAAO,aAIX,yBAAKrC,UAAU,IACX,+CACA,yBAAKA,UAAS,qDAA8D,IAAdoN,GAAmB,aAC7E,uBAAGpN,UAAU,iBACbgB,QAAS,kBAAImM,EAAeC,EAAY,KADxC,WAMJ,0BAAMpN,UAAU,cACXoN,GAEL,yBAAKpN,UAAS,qDAA8D,KAAdoN,GAAoB,aAC9E,uBAAGpN,UAAU,iBACbgB,QAAS,kBAAImM,EAAeC,EAAY,KADxC,QAMJ,kBAACP,GAAD,CACI/G,QAASA,MC7B7B,IA+DeqF,OA/DG,SAAC,GAA8C,IAA7CqB,EAA4C,EAA5CA,SAAUnB,EAAkC,EAAlCA,SAAUlD,EAAwB,EAAxBA,OAAQsE,EAAgB,EAAhBA,aAAgB,EAC1BrO,mBAAS,WADiB,mBACrDkP,EADqD,KACzCJ,EADyC,OAExB9O,mBAAS,GAFe,mBAErDgP,EAFqD,KAExCD,EAFwC,OAGhC/O,mBAAS,IAHuB,mBAGrD0H,EAHqD,KAG5C4G,EAH4C,OAMtB5N,YAAYwC,EAAa,CAC3DhB,UAAW,CACPwF,QAASA,GAAWA,EAAQyH,cAC5B3F,SAJS,UAKTO,SACAsE,gBAEJ1N,YAAY,WACR0M,QAAQC,IAAI,gCAAiCe,EAAc,gBAAiB3G,MAdxB,mBAMrD6G,EANqD,cAMxC5M,QANwC,EAM/BJ,MAuBzB,OAXJJ,OAAOqN,eAAiB,WACpBnB,QAAQC,IAAI,gBACZiB,KAGJhB,qBAAU,WACHN,GACCsB,MAEL,CAACtB,IAGI,yBAAKrL,UAAU,gBACX,yBAAKA,UAAU,OACX,yBAAKA,UAAU,cACX,kBAACiN,GAAD,cACAC,cAAeA,EACfC,eAAgBA,EAChBrH,QAASA,EACTsH,YAAaA,GAJb,UAKStH,KAGb,yBAAK9F,UAAU,cACX,yBAAKA,UAAU,UACX,oDACA,4BAAKwM,EAAS1G,UAElB,kBAAC,KAAD,CACIhI,IAAK,SAAA0P,GAAU,OAAId,EAAWc,IAC9BJ,YAAcA,EACdK,WAAY,EACZH,WAAYA,EACZtN,UAAU,uBACV6H,SAAUwD,EACVvD,SAAUuD,EACVqC,YAAa,IACbC,aAAc,YCf3BxC,OA7CE,SAAC,GAAoC,IAAnCE,EAAkC,EAAlCA,SAAUlD,EAAwB,EAAxBA,OAAQsE,EAAgB,EAAhBA,aAAgB,EAEnBrO,mBAAS,IAFU,mBAE1C0H,EAF0C,KAEjC4G,EAFiC,OAGX5N,YAAYwC,EAAa,CAC3DhB,UAAW,CACPwF,UACA8B,SALS,OAMTO,SACAsE,gBAEJ1N,YAAY,WACR0M,QAAQC,IAAI,gCAAiCe,EAAc,gBAAiB3G,MAXnC,mBAG1C6G,EAH0C,cAG7B5M,QAH6B,EAGpBJ,MAwB7B,OAZAgM,qBAAU,WACHN,GACCsB,MAEL,CAACtB,IAGJ9L,OAAOqN,eAAiB,WACpBnB,QAAQC,IAAI,gBACZiB,KAIA,oCAEStB,EAEC,kEADD,uEAGL,2BACA9K,YAAY,cACZC,KAAK,OACLC,MAAOqF,EACPpF,SAAU,SAAAN,GAAC,OAAEsM,EAAWtM,EAAEtE,OAAO2E,QACjCoH,SAAUwD,Q,4BCzCP,SAASpE,GAAMvJ,GAC1B,OACI,yBAAKsC,UAAU,sBACX,kDACA,wHACA,sJACA,yBAAKmE,IAAKyJ,KAAUvJ,IAAI,eCHpC,IAAMwJ,GAAQ,CACV,KAAO,IACP,QAAU,IACV,SAAW,IACX,QAAU,GAGC,SAASC,GAAT,GAA+C,IAA5BjI,EAA2B,EAA3BA,MAAO4G,EAAoB,EAApBA,aAAcsB,EAAM,EAANA,KAC5C5F,EAAUiD,cAAVjD,OAiBDqE,EAAW3G,EAAM5J,OAAO,EAAI4J,EAAMA,EAAM5J,OAAO,GAAK,GACpD+R,EAjBc,WAChB,IAAI9K,EAAO,UACX,GAAkB,IAAf2C,EAAM5J,OACLiH,EAAO,WAEN,IAAG2C,EAAM5J,OAAO,GAAK4J,EAAM5J,QAAQ8R,EACpC,MAAwC,YAAjClI,EAAMA,EAAM5J,OAAO,GAAG2L,SAC3B,WACA,UAGF1E,EAAO,YAEX,OAAOA,EAIM+K,GACXC,EAAY,CACd3D,MAAOsD,GAAOG,GACd7F,SACAsE,eACAD,YAwBJ,OACI,6BArBa,QAAVwB,EACQ,kBAAC,GACJE,GAGW,YAAXF,EACG,kBAAC,GACJE,GAGW,aAAXF,EACG,kBAAC,GACJE,GAIG,kBAAC,GAAD,OChDnB,IAiDelJ,OAjDI,SAAC,GAAsB,IAArBmJ,EAAoB,EAApBA,SAAUC,EAAU,EAAVA,OACrBL,EAAOI,EAASJ,KADe,EAEX3P,mBAAS,IAFE,mBAE9ByH,EAF8B,KAEvBwI,EAFuB,KAgB/B5B,EAXkB,WACpB,IAAIA,EAAa,GACjB,GAAG0B,EAAStF,QAAQ,CAChB,IACMyF,EADaH,EAAStF,QAAQtD,KAAI,SAAAmD,GAAM,OAAEA,EAAO9D,MAC1B/H,QAAQuR,GAAQL,EACvCQ,EAAwBJ,EAASxI,YAAY1J,OAAO,EACpDuS,EAAYF,EAAUC,EAA0BD,EAAUC,EAAsB,EAAKD,EAC3F7B,EAAe0B,EAASxI,YAAYJ,KAAI,SAAAK,GAAU,OAAEA,EAAWhB,MAAI4J,GAEvE,OAAO/B,EAEUgC,GAhBgB,EAkBPvJ,YAC1BvB,GACA,CACIrD,UAAW,CACPmM,gBAEJrH,YAAY,eACZrG,YALJ,YAKqC,IAApB2P,EAAmB,EAAnBA,kBACTL,EAASK,EAAkB7I,QAE/BnG,QARJ,WAQuB,IAAD,uBAAPC,EAAO,yBAAPA,EAAO,gBACd8L,QAAQC,IAAI/L,MAXXI,GAlBwB,EAkB9BV,KAlB8B,EAkBxBU,SAlBwB,EAkBfJ,MAgBtB,OAAGI,EAAgB,kBAACmE,GAAD,MAGf,yBAAKlE,UAAU,eAEP,kBAAC8N,GAAD,CACIjI,MAAOA,EACP4G,aAAcA,EACdsB,KAAMA,Q,qBChDX,SAASY,KACpB,OACI,yBAAK3O,UAAU,UACX,4DACA,sGACA,6BACI,yBAAKmE,IAAKyK,KAAOvK,IAAI,UAEzB,kBAAC,IAAD,CAAMqB,GAAG,KACL,4BAAQ1F,UAAU,OAAlB,kC,yBCVVmC,GAAO,CACT0M,aAAa,CACThR,MAAM,OACNmG,SAAS,IACT8K,UAAU,IAEdC,WAAW,CACP9K,OAAO,GAEX+K,YAAY,CACRnL,QAAS,OACTC,WAAY,SACZmL,eAAgB,SAChBC,cAAe,SACfvR,OAAQ,uBAID,SAASwR,KACpB,OACI,yBAAKC,MAAM,SAASnP,MAAOkC,GAAO6M,aAC9B,uDACA,sGACA,uBAAG/O,MAAOkC,GAAO4M,YAAjB,wDACA,yBAAK9O,MAAOkC,GAAO0M,aAAc1K,IAAKkL,KAAOhL,IAAI,W,2IC3B7D,SAAS,KAA2Q,OAA9P,GAAWzI,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAAS,GAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxM,CAA8BI,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,IAAI,GAAqB,IAAMoB,cAAc,IAAK,KAAmB,IAAMA,cAAc,IAAK,KAAmB,IAAMA,cAAc,IAAK,KAAmB,IAAMA,cAAc,OAAQ,CACvLC,EAAG,oQACY,IAAMD,cAAc,OAAQ,CAC3CC,EAAG,6TACY,IAAMD,cAAc,OAAQ,CAC3CC,EAAG,mkBACY,IAAMD,cAAc,OAAQ,CAC3CC,EAAG,m6DACY,IAAMD,cAAc,OAAQ,CAC3CC,EAAG,imBACY,IAAMD,cAAc,OAAQ,CAC3CC,EAAG,wbACY,IAAMD,cAAc,OAAQ,CAC3CC,EAAG,ulCACY,IAAMD,cAAc,OAAQ,CAC3CoS,EAAG,QACHC,EAAG,GACH1R,MAAO,GACPF,OAAQ,KACO,IAAMT,cAAc,OAAQ,CAC3CoS,EAAG,QACHC,EAAG,OACHC,UAAW,0DACX3R,MAAO,GACPF,OAAQ,SACO,IAAMT,cAAc,OAAQ,CAC3CoS,EAAG,QACHC,EAAG,IACH1R,MAAO,GACPF,OAAQ,KACO,IAAMT,cAAc,OAAQ,CAC3CoS,EAAG,MACHC,EAAG,OACHC,UAAW,sDACX3R,MAAO,GACPF,OAAQ,KACO,IAAMT,cAAc,OAAQ,CAC3CoS,EAAG,OACHC,EAAG,QACHC,UAAW,2DACX3R,MAAO,GACPF,OAAQ,KACO,IAAMT,cAAc,OAAQ,CAC3CoS,EAAG,MACHC,EAAG,IACH1R,MAAO,GACPF,OAAQ,QAGN,GAAqB,IAAMT,cAAc,IAAK,MAE9C,GAAqB,IAAMA,cAAc,IAAK,MAE9C,GAAqB,IAAMA,cAAc,IAAK,MAE9C,GAAqB,IAAMA,cAAc,IAAK,MAE9CuS,GAAqB,IAAMvS,cAAc,IAAK,MAE9CwS,GAAqB,IAAMxS,cAAc,IAAK,MAE9CyS,GAAqB,IAAMzS,cAAc,IAAK,MAE9C0S,GAAsB,IAAM1S,cAAc,IAAK,MAE/C2S,GAAsB,IAAM3S,cAAc,IAAK,MAE/C4S,GAAsB,IAAM5S,cAAc,IAAK,MAE/C6S,GAAsB,IAAM7S,cAAc,IAAK,MAE/C8S,GAAsB,IAAM9S,cAAc,IAAK,MAE/C+S,GAAsB,IAAM/S,cAAc,IAAK,MAE/CgT,GAAsB,IAAMhT,cAAc,IAAK,MAE/CiT,GAAsB,IAAMjT,cAAc,IAAK,MAE/C,GAAU,SAAiBK,GAC7B,IAAIC,EAASD,EAAKC,OACdC,EAAQF,EAAKE,MACbC,EAAQ,GAAyBH,EAAM,CAAC,SAAU,UAEtD,OAAoB,IAAML,cAAc,MAAO,GAAS,CACtD0H,GAAI,SACJ0K,EAAG,MACHC,EAAG,MACH3R,QAAS,sBACTqC,MAAO,CACLmQ,iBAAkB,2BAEpBC,SAAU,WACVvS,IAAKN,GACJE,GAAQD,EAAqB,IAAMP,cAAc,QAAS,KAAMO,GAAS,KAAM,GAAO,GAAO,GAAO,GAAO,GAAOgS,GAAOC,GAAOC,GAAOC,GAAQC,GAAQC,GAAQC,GAAQC,GAAQC,GAAQC,GAAQC,KAGhM,GAAa,IAAMnS,YAAW,SAAUN,EAAOI,GACjD,OAAoB,IAAMZ,cAAc,GAAS,GAAS,CACxDM,OAAQM,GACPJ,OAEU,IC9Gf,SAAS,KAA2Q,OAA9P,GAAW9B,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAAS,GAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxM,CAA8BI,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,IAAI,GAAqB,IAAMoB,cAAc,OAAQ,CACnDC,EAAG,2vBAGD,GAAqB,IAAMD,cAAc,OAAQ,CACnDC,EAAG,wvBAGD,GAAqB,IAAMD,cAAc,OAAQ,CACnDC,EAAG,+vBAGD,GAAqB,IAAMD,cAAc,OAAQ,CACnDC,EAAG,4pDAGD,GAAqB,IAAMD,cAAc,OAAQ,CACnDC,EAAG,sTAGD,GAAqB,IAAMD,cAAc,OAAQ,CACnDC,EAAG,wSAGD,GAAS,SAAgBI,GAC3B,IAAIC,EAASD,EAAKC,OACdC,EAAQF,EAAKE,MACbC,EAAQ,GAAyBH,EAAM,CAAC,SAAU,UAEtD,OAAoB,IAAML,cAAc,MAAO,GAAS,CACtDS,OAAQ,QACRC,QAAS,oBACTC,MAAO,QACPC,IAAKN,GACJE,GAAQD,EAAqB,IAAMP,cAAc,QAAS,KAAMO,GAAS,KAAM,GAAO,GAAO,GAAO,GAAO,GAAO,KAGnH,GAAa,IAAMO,YAAW,SAAUN,EAAOI,GACjD,OAAoB,IAAMZ,cAAc,GAAQ,GAAS,CACvDM,OAAQM,GACPJ,OAEU,IClDf,SAAS,KAA2Q,OAA9P,GAAW9B,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAAS,GAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxM,CAA8BI,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,IAAI,GAAqB,IAAMoB,cAAc,OAAQ,CACnDC,EAAG,47CAGD,GAAqB,IAAMD,cAAc,OAAQ,CACnDC,EAAG,sKAGD,GAAU,SAAiBI,GAC7B,IAAIC,EAASD,EAAKC,OACdC,EAAQF,EAAKE,MACbC,EAAQ,GAAyBH,EAAM,CAAC,SAAU,UAEtD,OAAoB,IAAML,cAAc,MAAO,GAAS,CACtD0H,GAAI,QACJwL,iBAAkB,gBAClBzS,OAAQ,IACRC,QAAS,YACTC,MAAO,IACPC,IAAKN,GACJE,GAAQD,EAAqB,IAAMP,cAAc,QAAS,KAAMO,GAAS,KAAM,GAAO,KAGvF,GAAa,IAAMO,YAAW,SAAUN,EAAOI,GACjD,OAAoB,IAAMZ,cAAc,GAAS,GAAS,CACxDM,OAAQM,GACPJ,OAEU,ICpCf,SAAS,KAA2Q,OAA9P,GAAW9B,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAAS,GAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxM,CAA8BI,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,IAAI,GAAqB,IAAMoB,cAAc,IAAK,KAAmB,IAAMA,cAAc,OAAQ,CAC/FC,EAAG,y0BACY,IAAMD,cAAc,OAAQ,CAC3CC,EAAG,2YACY,IAAMD,cAAc,OAAQ,CAC3CC,EAAG,8iDACY,IAAMD,cAAc,OAAQ,CAC3CC,EAAG,4NACY,IAAMD,cAAc,OAAQ,CAC3CC,EAAG,uPAGD,GAAqB,IAAMD,cAAc,IAAK,MAE9C,GAAqB,IAAMA,cAAc,IAAK,MAE9C,GAAqB,IAAMA,cAAc,IAAK,MAE9C,GAAqB,IAAMA,cAAc,IAAK,MAE9C,GAAqB,IAAMA,cAAc,IAAK,MAE9C,GAAqB,IAAMA,cAAc,IAAK,MAE9C,GAAqB,IAAMA,cAAc,IAAK,MAE9C,GAAsB,IAAMA,cAAc,IAAK,MAE/C,GAAsB,IAAMA,cAAc,IAAK,MAE/C,GAAsB,IAAMA,cAAc,IAAK,MAE/C,GAAsB,IAAMA,cAAc,IAAK,MAE/C,GAAsB,IAAMA,cAAc,IAAK,MAE/C,GAAsB,IAAMA,cAAc,IAAK,MAE/C,GAAsB,IAAMA,cAAc,IAAK,MAE/C,GAAsB,IAAMA,cAAc,IAAK,MAE/C,GAAiB,SAAwBK,GAC3C,IAAIC,EAASD,EAAKC,OACdC,EAAQF,EAAKE,MACbC,EAAQ,GAAyBH,EAAM,CAAC,SAAU,UAEtD,OAAoB,IAAML,cAAc,MAAO,GAAS,CACtD0H,GAAI,SACJ0K,EAAG,MACHC,EAAG,MACH3R,QAAS,sBACTqC,MAAO,CACLmQ,iBAAkB,2BAEpBC,SAAU,WACVvS,IAAKN,GACJE,GAAQD,EAAqB,IAAMP,cAAc,QAAS,KAAMO,GAAS,KAAM,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAQ,GAAQ,GAAQ,GAAQ,GAAQ,GAAQ,GAAQ,KAGhM,GAAa,IAAMO,YAAW,SAAUN,EAAOI,GACjD,OAAoB,IAAMZ,cAAc,GAAgB,GAAS,CAC/DM,OAAQM,GACPJ,OAEU,IC5DA,SAAS4S,KAAc,IAAD,EACalS,oBAAS,GADtB,mBAC1BmS,EAD0B,KACTC,EADS,KAG3BC,EAAY,SAACC,GACC7E,SAASC,eAAe4E,GAChCC,QAEZ,OACI,oCACI,yBAAK3Q,UAAU,0BAA2BC,MAAOsQ,EAAkB,CAACnN,WAAW,OAAD,OAASwN,KAAT,MAAgB,KAG1FL,GACA,yBAAKtQ,MAAO,CAAC4D,QAAQ,SACjB,2BAAOM,IAAK0M,KAAaC,UAAQ,EAACC,MAAI,IACtC,2BAAOnM,GAAG,cAAcT,IAAK6M,OAC7B,2BAAOpM,GAAG,WAAWT,IAAK8M,OAC1B,2BAAOrM,GAAG,cAAcT,IAAK+M,OAC7B,2BAAOtM,GAAG,gBAAgBT,IAAKgN,QAIvC,yBAAKnR,UAAU,yBACX,yBAAKA,UAAU,UACX,+BACA,2BAAOQ,KAAK,WACRQ,QAAS,kBAAIwP,GAAoBD,MAErC,0BAAMvQ,UAAU,UAJhB,8BAUAuQ,GACA,oCACA,wBAAIvQ,UAAU,UAAd,yBACA,yBAAKA,UAAU,0BACX,yBAAKA,UAAU,qCACfgB,QAAS,kBAAIyP,EAAU,iBACnB,kBAAC,GAAD,CAAMzQ,UAAU,qBAChB,0DAEJ,yBAAKA,UAAU,qCACfgB,QAAS,kBAAIyP,EAAU,cAEnB,kBAAC,GAAD,CAAKzQ,UAAU,qBACf,wDAEJ,yBAAKA,UAAU,qCACfgB,QAAS,kBAAIyP,EAAU,iBAEnB,kBAAC,GAAD,CAAMzQ,UAAU,qBAChB,6CAEJ,yBAAKA,UAAU,qCACfgB,QAAS,kBAAIyP,EAAU,mBAEnB,kBAAC,GAAD,CAAUzQ,UAAU,qBACpB,iECxD5B,IAoFegF,OApFF,SAACtH,GAAS,IACZyK,EAAUiD,cAAVjD,OADW,EAEc/J,mBAAS,IAFvB,mBAEX+P,EAFW,KAEDiD,EAFC,KAGZrL,EAAOb,YAAS1B,IAAanE,KAC7B+O,EAASrI,GAAQA,EAAKqI,OAJV,EAKEtP,YAAYuC,EAAY,CAACf,UAAU,CAAC6H,UAASzB,eAAgB,CAAC,CAC9EC,MAAOlD,GACPnD,UAAW,CAAC6H,cAFTkJ,EALW,sBAWenM,YAC7BzB,GACA,CAAEnD,UAAW,CAAC6H,UACVpJ,YADJ,YAC+B,IAAduS,EAAa,EAAbA,YACT7F,QAAQC,IAAI,iBAAkB4F,GAC9BF,EAAYE,IAEhBlM,YAAY,eACZ1F,QANJ,WAMuB,IAAD,uBAAPC,EAAO,yBAAPA,EAAO,gBAChB8L,QAAQC,IAAI/L,MATRI,GAXI,EAWVV,KAXU,EAWJU,SAXI,KAWKJ,MAcSqK,YAC5BR,GAAa,CAAClJ,UAAU,CAAC6H,UACzB8B,mBAAoB,YAA8B,EAA5BrL,OAA6B,IAArBsL,EAAoB,EAApBA,iBAC1BuB,QAAQC,IAAI,qBAAsBxB,EAAiB7K,KAAKkS,YACxDH,EAAY,gBAAIjD,EAAL,GAAkBjE,EAAiB7K,KAAKkS,cAEvD7R,QALa,WAKM,IAAD,uBAAPC,EAAO,yBAAPA,EAAO,gBAChB8L,QAAQC,IAAI/L,OAhCA,EAyBV6R,QAzBU,EAyBDnH,WAmBjB,GAPAsB,qBAAU,WACN,OAAO,WACHF,QAAQC,IAAI,iBACZ2F,OAEH,IAEFtR,EAAS,OAAO,kBAACmE,GAAD,MA8BnB,OACI,yBAAKlE,UAAU,aACX,kBAAC,GAAD,MACA,yBAAKA,UAAU,kCACVmO,GAhCY,SAAC,GAAY,IAAXsD,EAAU,EAAVA,OACvB,MAAY,QAATA,EACQ,kBAAC,GAAD,CACPtJ,OAAQA,EACRyB,YAAauE,EAAStF,QACtBgB,UAAWsE,EAAS5G,UAGP,WAATkK,GAAqBtD,EAAStF,QAAQtD,KAAI,SAAAmD,GAAM,OAAEA,EAAO9D,MAAI/H,QAAQuR,IAAS,EAC3E,kBAAC,GAAD,CACHD,SAAUA,EACVC,OAAQA,IAGC,WAATqD,EACG,kBAACtC,GAAD,MAEM,SAATsC,EACG,kBAAC,GAAD,CACPtJ,OAAQA,EACRxC,YAAawI,EAASxI,cAGV,cAAR8L,EACG,kBAAC9C,GAAD,WADN,EASgB+C,CAAiBvD,QC1F/B,SAASwD,KACtB,IAAM/S,EAASC,cACT2F,EAAUC,cAChB,OACE,wBACEzD,QAAS,WACPpC,EAAOQ,UAAU,CAAEC,KAAM,CAAEC,YAAY,EAAO8O,OAAQ,QACtDnP,aAAa+N,QACbzN,OAAOC,SAASC,SAChB+E,EAAQG,KAAK,OAGb,2BACG,uBAAG3E,UAAU,kBAAb,iB,WCNIgF,OAAY,WACvB,IAAMR,EAAUC,cADwB,EAEVS,YAAS5B,IAAhCjE,EAFiC,EAEjCA,KAAeM,GAFkB,EAE3BI,QAF2B,EAElBJ,OACnBA,GAASA,EAAME,WAAWhD,QAAQ,sBAAsB,IACvDoC,aAAa+N,QACbzN,OAAOC,SAASC,SAChB+E,EAAQG,KAAK,MAEjB,IAAMlD,EAAOpC,GAAQA,EAAK2G,YAAYvE,KAClC,OACI,6BACA,yBAAKzB,UAAU,eACX,kBAAC,IAAD,CAAM0F,GAAG,IAAI1F,UAAU,mBACnB,0BAAMA,UAAU,cAAhB,iBACA,uBAAGA,UAAU,kBAAb,UAEJ,wBAAIA,UAAU,yBACV,kBAAC2R,GAAD,MACA,uCAAalQ,SCxBlB,SAASmQ,GAAuBlU,GAC3C,IAAMkB,EAASC,cADkC,EAEhBqG,YAC7B5B,GACA,CACIvE,YADJ,YAC+B,IAAdiH,EAAa,EAAbA,YACTpH,EAAOQ,UAAU,CACbC,KAAK,CACD+O,OAAOpI,EAAYpB,SARU,EAEzCvF,KAFyC,EAEnCU,QAFmC,EAE1BJ,MAYvB,OACI,oCACA,kBAAC,GAAD,MACA,6BAAMjC,EAAMyJ,W,mDCdL,SAAS0K,KAAY,IACzB1J,EAAUiD,cAAVjD,OADwB,EAEAjD,YAASxB,GAAqB,CACzDpD,UAAU,CAAC6H,YADR9I,EAFwB,EAExBA,KAAMU,EAFkB,EAElBA,QAFkB,EAETJ,MAItB,OAAGI,EAAgB,kBAACmE,GAAD,MAEf,yBAAKlE,UAAU,+BACX,oDACA,yDAA+BX,GAAQA,EAAKkJ,kBAAkBhD,KAAI,SAACK,EAAYH,GAAb,OAAqB,0BAAMtJ,IAAKsJ,GAAX,IAAoBG,EAAWC,MAAM,GAAG0B,QAAQ9F,KAAhD,SACvF,qHAEIpC,GAAQA,EAAKkJ,kBAAkBhD,KAC3B,SAACK,EAAYH,GACT,OACI,yBAAKtJ,IAAKsJ,EAAOzF,UAAU,0BACvB,2CAAcyF,EAAM,GACpB,kBAAC,GAAD,CAAmBG,WAAYA,SCL/D,IAAMjD,GAAQ,IAAIC,IAEZkP,GAAW,IAAIhP,KAAS,CAC5BiP,QAAS,CAAEC,cAAe/S,aAAagT,QAAQ,mBAC/ClP,IAAgF,+CAG5EmP,GAAS,IAAIC,KAAc,CAC/BpP,IAA8E,2CAC9EqP,QAAS,CACPC,WAAW,KAITxP,GAAOyP,cACX,YAAgB,IAAb3L,EAAY,EAAZA,MACK4L,EAAaC,aAAkB7L,GACrC,MACsB,wBAApB4L,EAAWE,MACc,iBAAzBF,EAAWG,YAGfR,GACAJ,IAGIlT,GAAS,IAAIoE,IAAa,CAC9BL,SACAE,QACA8P,YAAa,UACb5N,aAAY6N,UtC9BS,GsC+BrBC,iBAAkB,SAAAC,GAAC,OAAEA,EAAElO,MAUV,SAASmO,KACpB,OACI,kBAAC,IAAD,CAAgBnU,OAAQA,IACpB,kBAAC,IAAD,KACE,kBAACgT,GAAD,KACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOoB,KAAK,IAAIC,OAAK,GACjB,kBAAC,GAAD,OAEJ,kBAAC,IAAD,CAAOD,KAAK,YACR,kBAACE,GAAD,OAEJ,kBAAC,IAAD,CACEF,KAAK,iBAEH,kBAAC,GAAD,OAEJ,kBAAC,IAAD,CACEA,KAAK,gBAEH,kBAAC,GAAD,WC3E1B,SAASG,KACP,OAAOlU,aAAagT,QAAQ,kBAAoB,kBAAC,GAAD,MAAoB,kBAAC,EAAD,MDgDtEtP,GAAMvD,UAAU,CACdC,KAAM,CACJC,aAAcL,aAAagT,QAAQ,qBC/CvC,IAAMmB,GAAO,WACX,OACE,kBAACD,GAAD,OAIJE,IAASC,OAAO,kBAAC,GAAD,MAAUzH,SAAS0H,cAAc,W,mBCjBjD9X,EAAOC,QAAU,IAA0B,yC","file":"static/js/main.ff78c1dc.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/crayons.b8039cd2.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/loader.1d7626e6.gif\";","module.exports = __webpack_public_path__ + \"static/media/artist.88839167.gif\";","module.exports = __webpack_public_path__ + \"static/media/sherlock.bb668a20.png\";","module.exports = __webpack_public_path__ + \"static/media/wrong.364ca726.png\";","module.exports = __webpack_public_path__ + \"static/media/lapin.225f5783.png\";","module.exports = __webpack_public_path__ + \"static/media/summer-night.940bb7f8.jpg\";","module.exports = __webpack_public_path__ + \"static/media/nightSounds.d688c5cd.mp3\";","module.exports = __webpack_public_path__ + \"static/media/open_bottle.170f6d97.mp3\";","module.exports = __webpack_public_path__ + \"static/media/bbqsound.f2afec55.mp3\";","module.exports = __webpack_public_path__ + \"static/media/chips.0ca5c282.mp3\";","module.exports = __webpack_public_path__ + \"static/media/moustique.50fe605b.mp3\";","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m506.234375 215.480469-77-36c-1.324219-.621094-2.769531-.941407-4.234375-.941407h-60.523438v-17.242187c0-19.089844-15.527343-34.617187-34.617187-34.617187-9.625 0-18.339844 3.949218-24.621094 10.308593-6.277343-6.359375-14.996093-10.308593-24.617187-10.308593-9.625 0-18.339844 3.949218-24.621094 10.308593-6.28125-6.359375-14.996094-10.308593-24.617188-10.308593-9.625 0-18.339843 3.949218-24.621093 10.308593-6.28125-6.359375-14.996094-10.308593-24.617188-10.308593-19.089843 0-34.621093 15.527343-34.621093 34.617187v17.242187h-125.753907c-12.003906 0-21.769531 9.765626-21.769531 21.769532v48.460937c0 12.003907 9.765625 21.769531 21.769531 21.769531h77.601563v58.882813c0 .730469.011718 1.460937.035156 2.183594.742188 22.773437 13.851562 44.007812 34.214844 55.425781l23.878906 13.390625v101.578125c0 5.523438 4.480469 10 10 10 5.523438 0 10-4.476562 10-10v-107.441406c0-3.617188-1.953125-6.953125-5.109375-8.722656l-28.988281-16.25c-14.292969-8.015626-23.492188-22.816407-24.007813-38.640626-.015625-.507812-.023437-1.015624-.023437-1.523437v-58.882813h28.152344v1.15625c0 5.523438 4.480468 10 10 10 5.523437 0 10-4.476562 10-10v-110.398437c0-8.0625 6.558593-14.617187 14.621093-14.617187 8.058594 0 14.617188 6.558593 14.617188 14.617187v110.398437c0 5.523438 4.476562 10 10 10 5.523437 0 10-4.476562 10-10v-110.398437c0-8.0625 6.558593-14.617187 14.621093-14.617187 8.058594 0 14.617188 6.554687 14.617188 14.617187v110.398437c0 5.523438 4.476562 10 10 10s10-4.476562 10-10v-110.398437c0-8.0625 6.558594-14.617187 14.617188-14.617187 8.0625 0 14.621093 6.558593 14.621093 14.617187v110.398437c0 5.523438 4.480469 10 10 10 5.523438 0 10-4.476562 10-10v-110.398437c0-8.0625 6.558594-14.617187 14.621094-14.617187 8.058594 0 14.617187 6.558593 14.617187 14.617187v151.234375c0 28.0625-11.574218 55.339844-31.757812 74.835938-1.949219 1.886718-3.054688 4.480468-3.054688 7.191406v67.441406c0 5.523438 4.480469 10 10 10 5.523438 0 10-4.476562 10-10v-63.304688c22.175782-22.992187 34.8125-54.148437 34.8125-86.164062v-41.992188h60.523438c1.464844 0 2.910156-.320312 4.234375-.941406l77-36c3.519531-1.644531 5.765625-5.175781 5.765625-9.058594 0-3.882812-2.246094-7.414062-5.765625-9.058593zm-486.234375 33.289062v-48.460937c0-.976563.792969-1.769532 1.769531-1.769532h32.230469v52h-32.230469c-.976562 0-1.769531-.792968-1.769531-1.769531zm89.367188 1.769531h-35.367188v-52h73.523438v52zm255.109374-52h50.523438v52h-50.523438zm70.523438 46.285157v-40.570313l43.390625 20.285156zm0 0\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m255.832031 84.339844c5.519531 0 10-4.480469 10-10v-64.339844c0-5.523438-4.480469-10-10-10-5.523437 0-10 4.476562-10 10v64.339844c0 5.519531 4.476563 10 10 10zm0 0\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m178.359375 98.621094c1.953125 1.953125 4.511719 2.929687 7.070313 2.929687 2.558593 0 5.117187-.976562 7.070312-2.929687 3.90625-3.902344 3.90625-10.234375 0-14.140625l-25.628906-25.632813c-3.902344-3.902344-10.234375-3.902344-14.144532 0-3.902343 3.90625-3.902343 10.238282 0 14.144532zm0 0\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m326.570312 101.550781c2.558594 0 5.117188-.976562 7.070313-2.929687l25.628906-25.628906c3.90625-3.90625 3.90625-10.238282 0-14.144532-3.90625-3.902344-10.234375-3.902344-14.140625 0l-25.632812 25.632813c-3.902344 3.90625-3.902344 10.238281 0 14.140625 1.953125 1.953125 4.515625 2.929687 7.074218 2.929687zm0 0\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m319.671875 492c-2.640625 0-5.210937 1.070312-7.070313 2.929688-1.871093 1.859374-2.929687 4.441406-2.929687 7.070312s1.058594 5.210938 2.929687 7.070312c1.859376 1.859376 4.429688 2.929688 7.070313 2.929688 2.628906 0 5.207031-1.070312 7.066406-2.929688 1.859375-1.859374 2.933594-4.441406 2.933594-7.070312s-1.070313-5.210938-2.933594-7.070312c-1.859375-1.859376-4.4375-2.929688-7.066406-2.929688zm0 0\"\n});\n\nvar SvgPencil = function SvgPencil(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: \"512pt\",\n    viewBox: \"0 0 512 512\",\n    width: \"512pt\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgPencil, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/pencil.042e7439.svg\";\nexport { ForwardRef as ReactComponent };","import React, {useState} from 'react';\nimport {useMutation, useApolloClient } from \"@apollo/react-hooks\";\nimport {isEmail} from 'validator';\nimport gql from 'graphql-tag';\nimport './Login.css';\n\n\nconst LOGIN_USER = gql`\nmutation Login($email: String!, $password: String!){\n    login(email: $email, password: $password){\n        token\n        user{\n            email\n            name\n            id\n        }\n    }\n}\n`;\n\nexport default function Login(props){\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [loginErrors, setLoginErrors] = useState('')\n    const [isFormValid, setFormValid] = useState(false);\n\n    const client = useApolloClient();\n    const [loginUser, { loading, error }] = useMutation(LOGIN_USER, {\n        onCompleted({login}) {\n            localStorage.setItem(\"esquisse-token\", \"Bearer \"+login.token);\n            client.writeData({ data: { isLoggedIn: true } });\n            window.location.reload();\n        },\n        onError(...error) {\n            const currentError = error[0].toString();\n            if(currentError.indexOf('Invalid Login')>-1){\n                setLoginErrors(\"C'est pas ça retente ta chance!\")\n            }\n        }\n    })\n\n    const checkForm = (value, setter)=>{\n        setter(value);\n        let valid = true;\n        let errors = '';\n        if(value && !isEmail(value)){\n            valid = false;\n            errors=\"Votre email n'est invalide.\"\n        }\n        (!value || !password) && (valid = false);\n        setLoginErrors(errors);\n        setFormValid(valid);\n    }\n\n    return(\n        <div className=\"container\">\n            <p>par ici pour se connecter</p>\n            <p className=\"red-text\" style={{minHeight:25}}>{loginErrors}</p>\n            <form onSubmit={(e)=>{\n                e.preventDefault();\n                loginUser({variables:{email, password}});\n            }}>\n                <input\n                    placeholder=\"email\"\n                    type=\"email\"\n                    value={email}\n                    onChange={(e)=>{\n                        checkForm(e.target.value, setEmail);\n                    }}\n                />\n                <input\n                    type=\"password\"\n                    placeholder=\"password\"\n                    value={password}\n                    onChange={(e)=>setPassword(e.target.value)}\n                />\n                <button className={`btn ${(!password || !email) && 'disabled'} login__validate`}>\n                    Valider\n                    <i className=\"material-icons left\">check</i>\n                </button>\n                <p className=\"login__switch\" onClick={()=>props.switchMode()}>Pas de compte? S'inscrire</p>\n\n            </form>\n        </div>\n    )\n    \n}\n","import gql from 'graphql-tag';\n\n\nexport const SIGNUP_USER = gql`\nmutation SignUp($email: String!, $password: String!, $name: String!){\n    signup(email: $email, password: $password, name: $name){\n        email\n        name\n    }\n}\n`;\n\nexport const MODIFY_USER = gql`\nmutation ModifyUser($icon: String!, $name: String!, $iconColor: String!){\n    modifyUser(name: $name, icon: $icon, iconColor: $iconColor){\n        icon,\n        iconColor,\n        name\n    }\n}\n`;\n\nexport const JOIN_GAME = gql`\nmutation JoinGame($gameId: ID!){\n    joinGame(gameId: $gameId){\n        id\n    }\n  }\n`;\n\nexport const LEAVE_GAME = gql`\nmutation LeaveGame($gameId: ID!){\n    leaveGame(gameId: $gameId){\n        id\n    }\n  }\n`;\n\nexport const SUBMIT_PAGE = gql`\nmutation SubmitPage($sketchbookId: ID!, $gameId: ID!, $content: String!, $pageType: String!){\n    submitPage(sketchbookId: $sketchbookId, gameId: $gameId, content: $content, pageType: $pageType){\n        id\n    }\n}\n`;\n\nexport const CHANGE_GAME_STATUS = gql`\nmutation ChangeGameStatus($newStatus:String!, $gameId: ID!){\n    changeGameStatus(gameId:$gameId, newStatus:$newStatus){\n      status\n      id\n    }\n  }\n`;\n\n","import React, {useState} from 'react';\nimport { useApolloClient, useMutation } from \"@apollo/react-hooks\";\nimport {SIGNUP_USER} from '../../../graphQL/mutations';\nimport {isEmail, isLength} from 'validator';\nimport './Signup.css';\n\nexport default function SignUp(props){\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [name, setName] = useState('');\n    const [signupErrors, setSignupErrors ]= useState('');\n    const [isFormValid, setFormValid] = useState(false);\n    const [signupUser, { loading, error }] = useMutation(SIGNUP_USER, {\n        onCompleted() {\n            window.location.reload()\n        }\n    });\n\n    const checkForm = (newValue, valueName, setter)=>{\n        setter(newValue);\n        let valid = true;\n        let errors = '';\n\n        if(valueName===\"email\" && !isEmail(newValue)){\n            valid = false;\n            errors=\"Votre email n'est invalide.\"\n        }\n        else if(valueName===\"password\" && !isLength(newValue, {min:6})){\n            valid = false;\n            errors=\"Choisissez un mot de passe de 6 charactères minimum.\"\n        }\n        else if(valueName===\"name\" && !isLength(newValue, {min:6})){\n            valid = false;\n            errors=\"Choisissez un nom de 6 charactères minimum.\"\n        }\n\n        (!email || !password || !name) && (valid = false);\n\n        setSignupErrors(errors);\n        setFormValid(valid);\n    }\n\n    return(\n        <div className=\"container\">\n            <p>se créer un compte</p>\n            <p className=\"red-text\" style={{minHeight:25}}>{signupErrors}</p>\n            <form \n                onSubmit={(e)=>{\n                e.preventDefault();\n                signupUser({variables:{email, password, name}});\n            }}>\n            <input\n                placeholder=\"nom\"\n                value={name}\n                onChange={(e)=>{checkForm(e.target.value, 'name', setName)}}\n            />\n            <input\n                placeholder=\"email\"\n                type=\"email\"\n                value={email}\n                onChange={(e)=>{checkForm(e.target.value, 'email', setEmail)}}\n            />\n            <input\n                type=\"password\"\n                placeholder=\"mot de passe\"\n                value={password}\n                onChange={(e)=>{checkForm(e.target.value, 'password', setPassword)}}\n            />\n\n            <button className={`btn ${!isFormValid && 'disabled'} signup__validate`}>\n                Valider\n                <i className=\"material-icons left\">check</i>\n            </button>\n            <p className=\"signup__switch\" onClick={()=>props.switchMode()}>Déjà un compte? Se connecter</p>\n\n        </form>\n        </div>\n    )\n}\n","import React from 'react';\n\nconst styles ={\n    red:{color:\"#F1012C\"},\n    orange:{color: \"#EE6402\"},\n    yellow:{color:\"#F8AF28\"},\n    green:{color: \"#69961F\"},\n    blue:{color: \"#62A6C4\"}\n}\n\nexport default function Sloggan(){\n    return(\n        <>\n            <span style={styles.red}>H</span>\n            <span style={styles.orange}>e</span>\n            <span style={styles.yellow}>y</span>\n            &nbsp;\n            <span style={styles.green}>O</span>\n            <span style={styles.blue}>h</span>\n            &nbsp;\n            <span style={styles.red}>L</span>\n            <span style={styles.orange}>e</span>\n            <span style={styles.yellow}>t</span>\n            <span style={styles.green}>'s</span>\n            &nbsp;\n            <span style={styles.blue}>D</span>\n            <span style={styles.red}>r</span>\n            <span style={styles.orange}>a</span>\n            <span style={styles.yellow}>w</span>\n            <span style={styles.green}>!</span>\n        </>\n    )\n}","import React,  {useState} from 'react';\nimport CrayonsBG from 'images/crayons.jpeg';\nimport {ReactComponent as Logo} from 'images/pencil.svg';\nimport './AuthPage.css';\nimport Login from 'layouts/AuthPage/Login';\nimport SignUp from 'layouts/AuthPage/Signup';\nimport Sloggan from 'components/Sloggan'\n\nimport { ApolloClient } from \"apollo-client\";\nimport { InMemoryCache } from \"apollo-cache-inmemory\";\nimport { HttpLink } from \"apollo-link-http\";\nimport { ApolloProvider } from \"react-apollo\";\n\n\nconst cache = new InMemoryCache();\nconst link = new HttpLink({\n uri: process.env.NODE_ENV === \"development\" ? 'http://localhost:4000/graphql' : \"https://esquisse-api.herokuapp.com/graphql\"\n});\n \nconst client = new ApolloClient({\n cache,\n link\n});\n\n\nexport default function BasicHome(){\n    const [mode, setMode] = useState('login');\n    return(\n        <ApolloProvider client={client}>\n            <div className=\"auth-page\" style={{background: `url(${CrayonsBG})`}}>\n                <Logo className=\"auth-page__logo\"/>\n                <h3 className='auth-page__title'>Esquisse Live</h3>\n                <div className=\"auth-page__action\">\n                    <h5 className=\"center\">\n                        <Sloggan/>\n                    </h5>\n                    {\n                        mode===\"login\"\n                        ? <Login switchMode={()=>setMode('signup')}/>\n                        : <SignUp switchMode={()=>setMode('login')}/>\n                    }\n                </div>\n            </div>\n        </ApolloProvider>\n    )\n}","import gql from 'graphql-tag';\n\nexport const CURRENT_USER = gql`\n{\n    currentUser {\n        id\n        name\n        email\n        icon\n        iconColor\n    }\n  }\n`;\n\nexport const LAST_GAMES = gql`\n{\n    getLastUserGames{\n        id\n        sketchbooks{\n          pages{\n            content\n          }\n        }\n    }\n}\n`\n\nexport const GET_USER_ID = gql`\n{\n  userId @client\n}\n`;\n\nexport const GET_GAME_INFO= gql`\nquery GetGameInfo($gameId:ID!){\n    getGameInfo(gameId:$gameId){\n      id\n      status\n      turn\n      players{\n        id\n        name\n        icon\n        iconColor\n      }\n      creator\n      sketchbooks{\n        id\n      }\n    }\n  }\n`\n\nexport const GET_ALL_SKETCHBOOKS = gql`\nquery GetAllSketchbooks($gameId: ID!){\n    getAllSketchbooks(gameId:$gameId){\n        pages{\n            content\n            pageType\n            creator{\n                name\n            }\n        }\n    }\n}\n`;\n\nexport const GET_SKETCHBOOK_DETAILS = gql`\nquery GetSketchbookInfo($sketchbookId: ID!){\n    getSketchbookInfo(sketchbookId:$sketchbookId){\n        pages{\n            content\n            pageType\n        }\n    }\n}\n`;\n","import React from 'react';\nimport loader from 'images/loader.gif'\n\nconst styles={\n    loadingWrapper:{\n        display:'flex',\n        alignItems:'center',\n        height:'calc(100vh - 120px)'\n    },\n    loadingImage:{\n        maxWidth:\"100%\",\n        width:400,\n        margin:\"0 auto\"\n    }\n}\nexport default function Loading(){\n    return(\n        <div style={styles.loadingWrapper}>\n            <img src={loader} alt='loader' style={styles.loadingImage}/>\n        </div>\n    )\n};","import React from 'react';\nimport {useMutation} from '@apollo/react-hooks';\nimport { useHistory } from \"react-router-dom\";\nimport gql from 'graphql-tag';\n\nconst CREATE_GAME = gql`\nmutation{\n    createGame{\n        id\n    }\n  }\n`;\n\nexport default function CreateGame(){\n    const history = useHistory();\n    const [createGame, {createGameData}] = useMutation(\n        CREATE_GAME,\n        {\n            onCompleted({createGame}){\n                history.push(`/game/${createGame.id}`)\n            }\n        }\n    )\n\n    return(\n        <>\n            <p>Envie de jouer?</p>\n            <button \n            onClick={()=>createGame()}\n            className=\"btn\">\n                NOUVELLE PARTIE\n            </button>\n        </>\n    )\n}","import gql from \"graphql-tag\";\n\nexport const IS_LOGGED_IN = gql`\n{\n    isLoggedIn @client\n  }\n`;\n\nexport const USER_ID = gql`\n{\n    userId @client\n  }\n`;\n\nexport const localType =gql`\nextend type Query {\n  isLoggedIn: Boolean!\n  userId: ID!\n}\n`\n\nexport const resolvers={};","import React, {useEffect} from 'react';\nimport {useQuery} from \"@apollo/react-hooks\";\nimport {IS_LOGGED_IN} from '../graphQL/localState';\nimport { useHistory } from \"react-router-dom\";\n\nconst requireAuth = (WrappedComponent) => {\n    const HOC = (props)=>{\n        const { data } = useQuery(IS_LOGGED_IN);\n        let history = useHistory();\n\n        if(data.isLoggedIn){\n            return (\n                <WrappedComponent\n                    {...props}\n                />\n                );\n        }\n        else{\n            history.push('/');\n            return <></>\n        }\n    }\n    return HOC;\n};\n\nexport default requireAuth;","import React from 'react';\nimport {useQuery} from '@apollo/react-hooks';\nimport {LAST_GAMES} from 'graphQL/queries';\nimport {Link} from 'react-router-dom';\nimport gearLoader from 'images/gearLoader.gif'\nimport './LastGames.css';\n\nexport default function LastGames(){\n    const { data, loading, error } = useQuery(LAST_GAMES,\n        {\n            fetchPolicy:\"network-only\"\n        });\n\n    return(\n        <div className=\"last-games\">\n            <p>VOTRE DERNIÈRE PARTIE</p>\n            <i>attention les parties sont effacées toutes les 30mn</i>\n            {\n                loading &&\n                <div>\n                    <img className=\"last-games__loader\" src={gearLoader}/>\n                </div>\n\n            }\n            {\n                data && data.getLastUserGames.length>0\n                ? data.getLastUserGames.map((game, index)=>{\n                    return(\n                        <div className=\"last-games__game-wrapper\"\n                        key={index}\n                        >\n                        <Link to={\"/game/\"+game.id}>\n                            <div className=\"last-games__game-border\">\n                                <div className=\"last-games__title\">\n                                    <span>Voir la partie</span>\n                                    <i className=\"material-icons\">remove_red_eye</i>\n                                </div>\n                                <div>\n                                    {\n                                        game.sketchbooks.map((sketchbook, index)=> <span key={index}>{(index!==0) && \" /\"} {sketchbook.pages[0].content}</span> )\n                                    }\n                                </div>\n                            </div>\n                        </Link>\n                        </div>\n                    )\n                })\n                :<p>aucune partie disponible</p>\n            }\n        </div>\n    )\n}","import React from 'react';\nimport {useQuery, useApolloClient} from '@apollo/react-hooks';\nimport {CURRENT_USER} from 'graphQL/queries';\nimport './Home.css';\nimport Loading from 'components/Loading';\nimport CreateGame from 'components/GameControls/CreateGame';\nimport {Link} from 'react-router-dom';\nimport requireAuth from 'components/requireAuth';\nimport LastGames from 'components/LastGames';\n\nfunction Home(){\n    const client = useApolloClient();\n    const { data, loading, error } = useQuery(\n        CURRENT_USER,\n        {\n            fetchPolicy: \"network-only\"\n        }\n    \n    );\n\n    if(loading) return <Loading/>\n\n    const user = data && data.currentUser\n\n\n    return(\n        <div className=\"center connected-home\">\n            <i className=\"material-icons large connected-home__icon\" style={{color: user.iconColor, borderColor: user.iconColor}}>{user.icon}</i>\n            <h5>Bienvenue</h5>\n            <h4>{user.name}</h4>\n            <p>Profil</p>\n            <Link to=\"/profile\" className=\"btn\">\n                Modifier Mon profil\n            </Link>\n            <CreateGame/>\n            <LastGames/>\n        </div>\n    )\n}\n\nexport default requireAuth(Home);","import React from 'react';\nimport './ProfileItems.css';\n\nconst availableIcons = [\n    \"tag_faces\", \"accessibility\", \"adb\", \"airline_seat_recline_extra\", \"airport_shuttle\", \"album\", \"android\", \"announcement\", \"assistant\", \"attach_file\", \"audiotrack\", \"beach_access\", \"brightness_2\", \"brightness_low\", \"build\", \"bug_report\", \"cake\", \"casino\", \"child_care\", \"content_cut\", \"directions_bike\", \"directions_run\", \"face\", \"favorite_border\", \"grade\", \"hot_tub\", \"local_bar\", \"local_dining\", \"local_florist\", \"mood_bad\", \"rowing\", \"sentiment_neutral\", \"sentiment_very_dissatisfied\", \"smoking_rooms\", \"wc\"\n]\n\nexport default function IconSelector({selectedIcon, setIcon}){\n    return(\n        <div className=\"icon-selector\">\n            {\n                availableIcons.map((icon, index)=>\n                <i \n                    key={index}\n                    className={`material-icons small ${selectedIcon===icon && 'selected-icon'}`}\n                    onClick = {()=>{setIcon(icon)}}\n                >\n                    {icon}\n                </i>\n                )\n            }\n        </div>\n    )\n}","import React, {useState} from 'react';\nimport requireAuth from '../../../components/requireAuth';\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\nimport {CURRENT_USER} from '../../../graphQL/queries';\nimport {MODIFY_USER} from '../../../graphQL/mutations';\nimport IconSelector from '../../../components/ProfileItems/IconSelector';\nimport { CirclePicker } from 'react-color';\nimport './Profil.css';\nimport { useHistory } from \"react-router-dom\";\n\n\nconst Profil = ()=>{\n    const [icon, setIcon] = useState('tag_faces');\n    const [iconColor, setIconColor] = useState('black-text');\n    const [name, setName] = useState('');\n    let history = useHistory();\n\n    const { data, loading, error } = useQuery(\n        CURRENT_USER,\n        { fetchPolicy: \"network-only\", \n            onCompleted(data) {\n                setName(data.currentUser.name)\n                setIcon(data.currentUser.icon || 'tag_faces')\n                setIconColor(data.currentUser.iconColor || 'blue-text')            \n            }\n        }\n    );\n\n    const [modifyUser , {modifyData}] = useMutation(MODIFY_USER, {\n        variables: {name, icon, iconColor},\n        onCompleted(response){\n            history.push('/')\n        },\n        refetchQueries: [{\n            query: CURRENT_USER\n        }]\n    })\n\n    \n    if(loading) return <></>\n\n    return(\n        <div className=\"container profile\">\n            <div className=\"row\">\n                <div className=\"col s6 center\">\n                    <i className={`material-icons large ${iconColor}`}\n                    style={{color:iconColor}}\n                    >{icon}</i>\n                </div>\n                <div className=\"col s6\">\n                    <h4>Mon Profil</h4>\n                    <input\n                        placeholder=\"nom\"\n                        value={name}\n                        onChange={(e)=>setName(e.target.value)}\n                        maxLength={20}\n                    />\n                </div>\n                <div>\n                    <p>Mon avatar</p>\n                    <IconSelector\n                        setIcon={setIcon}\n                        selectedIcon={icon}\n                    />\n                    <p>Couleur</p>\n                    <CirclePicker\n                        onChange={ (color, event)=>setIconColor((color.hex))}\n                    />\n                </div>\n                <div className=\"center profil__save-btn\">\n                    <button \n                    className=\"btn\"\n                    onClick = {()=>modifyUser()}\n                    >Enregistrer</button>\n                </div>\n            </div>\n\n        </div>\n    )\n}\n\nexport default requireAuth(Profil);","import React from 'react';\nimport './Modal.css';\n\nexport default function Modal(props){\n    return(\n        <div className={`modal-wrapper ${props.open && 'open'}`}>\n            <div className=\"sketchbook-display__wrapper modal\">\n                {props.children}\n            </div>\n        <div className=\"modal-overlay\" onClick={()=>props.closeModal()}></div>\n    </div>\n\n    )\n}","import React from 'react';\nimport './SketchbookDisplay.css';\nimport CanvasDraw from \"react-canvas-draw\";\n\n\nexport default function SketchbookDisplay({sketchbook}){\n    const initialCreator = sketchbook.pages[0].creator.name\n    const initialWord = sketchbook.pages[0].content\n    const restOfPages = sketchbook.pages.slice(1)\n    return(\n        <div>\n            <div className=\"\">\n                <h4>{initialWord}</h4>\n                <p>proposé par {initialCreator}</p>\n            </div>\n            <div className=\"\">\n                {\n                    restOfPages.map(\n                        (page, index)=>{\n                            if(page.pageType===\"drawing\"){\n                                return(\n                                <div \n                                key={index}\n                                >\n                                    <hr/>                                                                <p>Le dessin de {page.creator.name}</p>\n                                    <CanvasDraw\n                                        className=\"sketchbook__drawing\"\n                                        disabled\n                                        hideGrid\n                                        loadTimeOffset={0}\n                                        saveData={page.content}\n                                        hideInterface={true}\n                                    />\n                                </div>   \n                                )              \n                            }\n                            else{\n                            return(\n                                <div key={index}>\n                                    <hr/>\n                                    <p>L'interprétation de {page.creator.name}</p>\n                                    <p>{page.content}</p>\n                                </div>\n                            )\n                            }\n                        }\n                    )\n                }\n            </div>\n        </div>\n    )\n}","import React, { useState } from 'react';\nimport {useQuery} from '@apollo/react-hooks';\nimport endGif from 'images/artist.gif';\nimport Loading from 'components/Loading';\nimport Modal from 'components/Modal';\nimport SketchbookDisplay from 'components/SketchbookDisplay';\nimport {GET_ALL_SKETCHBOOKS} from 'graphQL/queries';\nimport './Game.css';\nimport {Link} from 'react-router-dom';\n\n\nconst GameOver = ({gameId})=>{\n    const [sketchbook, setSketchbook] = useState();\n    const [openedModal, setOpenedModal] = useState(false);\n    const {data, loading, error} = useQuery(GET_ALL_SKETCHBOOKS, {\n        variables:{gameId}\n    })\n\n    if(loading) return <Loading/>\n    const sketchbooks = data && data.getAllSketchbooks\n    return(\n        <div className=\"center\">\n            <h2>NOICE!</h2>\n            <p>Le jeu est maintenant terminé.</p> \n            <p>Découvrez ci dessous les performances artistiques de vos amis!</p>\n            <div><Link to={\"/pdf/\"+gameId}><button className=\"btn game-over__pdf-btn\">Par ici pour la version pdf</button></Link></div>\n            <img className=\"game-over__gif\" src={endGif} alt=\"artist\"/>\n            <div>\n                {\n                sketchbooks &&\n                sketchbooks.map((sketchbook, index)=>{\n                    return(\n                        <div key={index} className=\"game-over__result-bnt-wrapper\">\n                            <button \n                            className=\"btn game-over__result-btn\" \n                            onClick={()=>{\n                                setSketchbook(sketchbook);\n                                setOpenedModal(true)\n                            }}\n                            >{sketchbook.pages[0].creator.name} - {sketchbook.pages[0].content}</button>\n                        </div>\n                    )\n                })\n                }\n            </div>\n            {\n                sketchbook &&\n                <Modal\n                    open={openedModal}\n                    closeModal={()=>{\n                        setOpenedModal(false); setSketchbook();\n                    }}\n                >\n                    <SketchbookDisplay \n                        sketchbook={sketchbook}\n                    />\n                </Modal>\n            }\n        </div>\n    )\n}\n\n\n\nexport default GameOver;","import React from 'react';\n\nexport default function PlayerItem({player, admin}){\n    return(\n        <>\n            <li className=\"collection-item\">\n                <i className=\"material-icons\" style={{color: player.iconColor}}>{player.icon}</i>\n                <span>{player.name}</span>  {admin && <span> - GAME MASTER</span>}\n            </li>\n        </>\n    )\n}","import React, {useState} from 'react';\nimport {useMutation} from '@apollo/react-hooks';\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\nimport './Controls.css';\nimport {CHANGE_GAME_STATUS} from 'graphQL/mutations';\n\n\n\n\n\nexport default function AdminGameControls({gameId, players}){\n    const [launchGame, { loading, error }] = useMutation(CHANGE_GAME_STATUS, {variables:{gameId, newStatus:\"active\"}})\n    const [copied, setCopied] = useState(false)\n    if(loading) return <div></div>\n    return(\n        <> \n            <div className=\"center\">\n                <div className=\"admin-controls__share-link\">\n                    <p>Votre partie a bien été créée. Invitez vos amis à la rejoindre en partageant le lien ci-dessous.</p>\n                    <p>LIEN A PARTAGER AVEC LES AUTRES JOUEURS (CLIQUEZ POUR COPIER)</p>\n                    <p className=\"admin-control__info\">{copied && \"lien copié dans le presse papier\"}</p>\n                    <CopyToClipboard text={window.location.href}\n                        onCopy={() =>setCopied(true)}>\n                        <p className=\"btn\">{window.location.href}</p>\n                    </CopyToClipboard>\n                </div>\n                <div>\n                {\n                    players.length>2\n                    ? <><p>Prêts à commencer?</p><button className=\"btn\" onClick={()=>launchGame()}>LANCER LE JEU</button></>\n                    : <p>Un minimum de 3 joueurs est nécessaire pour lancer le jeu.</p>\n                }\n                </div>\n            </div>\n        </>\n    )\n}","import React from 'react'\n\nexport default function PlayerControls({joinGame, hasJoined, players, loading}){\n    const displayMessage = () =>{\n        if(!hasJoined){\n            if(!loading){\n                return(\n                    <>\n                        <p>Vous avez été invité à jouer à une partie de esquissé, cliquez sur le bouton ci dessous pour rejoindre les participants :</p>\n                        <button onClick={()=>joinGame()} className=\"btn\">REJOINDRE LA PARTIE</button>\n                    </>\n                )\n            }\n            else{\n                return <p>Connexion en cours</p>\n            }\n        }\n        else{\n            if(players.length<3){\n                return <p>Vous avez rejoint la partie, un nombre minimal de 3 joueurs est nécessaire pour jouer.</p>\n            }\n            else{\n                return <p>Vous avez rejoint la partie, nous attendons que le game master lance la partie.</p>\n            }\n        }\n    }\n\n    return(\n        <div className=\"centered\">\n            {displayMessage()}\n        </div>\n    )\n}","import gql from 'graphql-tag';\n\nexport const GAME_UPDATE = gql`\nsubscription GameUpdate($gameId:ID!){\n    gameUpdate(gameId:$gameId){\n      status\n      creator\n      turn\n      players{\n        id\n        name\n        icon\n        iconColor\n      }\n      sketchbooks{\n        id\n      }\n    }\n  }\n`\n\nexport const PLAYER_UPDATE_SUBSCRIPTION = gql`\nsubscription PlayerUpdate($gameId: ID!) {\n  playerUpdate(gameId:$gameId){\n      players{\n          id\n          name\n          icon\n          iconColor\n      }\n      creator\n  }\n}\n`;\n\nexport const TIME_TO_SUBMIT = gql`\n  subscription TimeToSubmit($gameId: ID!){\n    timeToSubmit(gameId:$gameId){\n      id\n    }\n  }\n`;","import React, {useState} from 'react';\nimport PlayerItem from 'components/PlayerItem';\nimport AdminGameControls from 'components/GameControls/AdminGameControls';\nimport PlayerControls from 'components/GameControls/PlayerControls';\nimport {JOIN_GAME, LEAVE_GAME} from 'graphQL/mutations';\nimport {useMutation, useSubscription, useQuery } from \"@apollo/react-hooks\";\nimport { CURRENT_USER } from 'graphQL/queries';\nimport {PLAYER_UPDATE_SUBSCRIPTION} from 'graphQL/subscriptions';\n\nimport \"./Game.css\";\n\n\n\n\n\nconst NewGame = ({gameId, playerslist, creatorId})=>{\n    const [creator, setCreator] = useState(creatorId);\n    const [players, setPlayers] = useState([...playerslist]);\n    const {data: {currentUser}} = useQuery(CURRENT_USER)\n    const [joinGame, { loading, error }] = useMutation(JOIN_GAME, {variables:{gameId}})\n    const [leaveGame] = useMutation(LEAVE_GAME, {variables:{gameId}})\n    const { data, loadingSub } = useSubscription(\n        PLAYER_UPDATE_SUBSCRIPTION, {variables:{gameId},\n        onSubscriptionData: ({client, subscriptionData})=>{\n            setPlayers(subscriptionData.data.playerUpdate.players)\n            setCreator(subscriptionData.data.playerUpdate.creator)\n        }\n        }\n    );\n\n    \n    const isGameAdmin = (currentUser.id === creator)\n    const hasJoined = players.map(player=>player.id).indexOf(currentUser.id)>-1\n\n    const renderPlayers = ()=>{\n        return(\n            <ul className=\"collection\">\n                {players.map((player, index)=><PlayerItem key={index} player={player} admin={player.id === creator}/>)}\n            </ul>\n        )\n    }\n\n\n    return(\n        <div className=\"new-game\">\n            <h4>Nouvelle partie</h4>\n            {isGameAdmin && <AdminGameControls gameId={gameId} players={players}/>}\n            {!isGameAdmin && <PlayerControls joinGame={joinGame} loading={loading} players={players} hasJoined={hasJoined}/>}\n            <h5 className=\"center\">La partie commence bientôt profitez-en pour réfléchir à votre premier mot!</h5>\n            <div className=\"row\">\n                <div className=\"new-game__rules col m6 s12\">\n                <p className=\"new-game__rules-title center\">Comment ça marche?</p>\n                <p>Une fois que la partie compte au minimum 3 joueurs, le game master peut lancer le jeu.  Vous disposez de :\n                </p>\n                <p>- 1mn au premier tour pour écrire le mot ou la phrase initiale dans le champ texte</p>\n                <p>- 1mn30 au tour suivant pour dessiner le mot qui vous sera donné</p>\n                <p>- 30 secondes au tour suivant pour mettre un mot sur le dessin proposé dans le champs texte</p>\n                <p>La page se met à jour en sauvegardant votre réponse et le chronomètre se lance automatiquement à chaque tour. Vous n'avez rien à faire.</p>\n            </div>\n                <div className=\"col m6 s12 new-game__players\">\n                    <p className=\"new-game__players-title\">Liste des joueurs connectés à cette partie</p>\n                        {   players.length>0\n                            ?renderPlayers()\n                            : <i>Aucun joueur connecté</i> \n                        }\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default NewGame;","import React, {useEffect} from 'react';\nimport Counter from 'react-countdown';\n\nexport default function Countdown({timer, submiter}){\n    const counterAspect = ({ hours, minutes, seconds}) => {\n        return(\n            <p>\n                <i className=\"material-icons small\">access_alarm</i>\n                <span>{hours}:{minutes}:{seconds}</span>\n            </p>\n        )\n      };\n    return(\n    <div className=\"count-down\">\n        <Counter \n        date={Date.now() + timer} \n        renderer={counterAspect}\n        onComplete={()=>submiter()}\n        />\n    </div>\n    )\n}","import React from 'react';\nimport GearLoader from 'images/gearLoader.gif';\nimport './StopGame.css';\n\nexport default function StopGame(){\n    return(\n        <div className=\"stopGame\">\n            <div className=\"stopGame__content\">\n                <h4>HAUT LES MAINS</h4>\n                <p>Le timer est écoulé votre réponse a été envoyée. Ne touchez à rien la page se mettra automatiquement à jour une fois toutes les réponses reçues.</p>\n                <h5>synchronisation de la partie en cours</h5>\n                <img className=\"stopGame__loader\" src={GearLoader} alt='gear loader'/>\n            </div>\n            <div className=\"stopGame__overlay\"></div>\n        </div>\n    )\n}","import React, {useState, useEffect} from \"react\";\nimport Countdown from 'components/Counter/Countdown';\nimport StopGame from 'components/StopGame';\nimport {TIME_TO_SUBMIT} from 'graphQL/subscriptions';\nimport {useSubscription} from '@apollo/react-hooks';\nimport {useParams} from 'react-router-dom';\nimport \"./CountDown.css\";\n\nconst applyCountdown = (WrappedComponent) => {\n    const HOC = (props)=>{\n        const {gameId} = useParams();\n        const [finished, setFinished] = useState(false);\n        const [submit, setSubmit] = useState(false);\n\n        const timeToSubmit = useSubscription(\n            TIME_TO_SUBMIT, {variables:{gameId},\n            onSubscriptionData: ({client, subscriptionData})=>{\n                console.log('TIME TO SUBMIT')\n                setSubmit(true)\n            }\n            }\n        );\n\n        useEffect(() => {\n            const header = document.getElementById(\"CountDown\");\n            const sticky = header.offsetTop;\n            const scrollCallBack = window.addEventListener(\"scroll\", () => {\n              if (window.pageYOffset > sticky) {\n                header.classList.add(\"sticky\");\n              } else {\n                header.classList.remove(\"sticky\");\n              }\n            });\n            return () => {\n              window.removeEventListener(\"scroll\", scrollCallBack);\n            };\n          }, []);\n\n        const renderCounter=()=>{\n            return(\n                !finished\n                ?<Countdown \n                timer={props.timer} \n                submiter={()=>setFinished(true)}/>\n                :<StopGame/>\n\n            )\n        }\n        return (\n            <>\n            <div className=\"center\"                 id=\"CountDown\">\n                {renderCounter()}\n            </div>\n            <WrappedComponent\n                {...props}\n                finished={submit}\n            />\n            </>\n        );\n    }\n    return HOC;\n};\n\nexport default applyCountdown;\n\n","import React, { useState, useEffect } from 'react';\nimport CanvasDraw from \"react-canvas-draw\";\nimport applyCountdown from 'components/Counter/applyCountdown';\nimport {SUBMIT_PAGE} from 'graphQL/mutations';\nimport {useMutation} from '@apollo/react-hooks';\n\nimport './GuessingMode.css';\n\nconst GuessingPanel = ({lastPage, finished, sketchbookId, gameId})=>{\n    const [content, setContent] = useState('')\n    const pageType = 'guessing';\n    const [submitPage, {loading, error}]= useMutation(SUBMIT_PAGE, {\n        variables :{\n            content,\n            pageType,\n            gameId,\n            sketchbookId\n        },\n        onCompleted:()=>{\n            console.log('PAGE SUBMITTED FOR SKETCHBOOK', sketchbookId, \"with content \", content)\n        }\n    });\n\n    window.onbeforeunload = function(){\n        console.log('LEAVING PAGE')\n        submitPage()\n    };\n\n    useEffect(() => {\n        if(finished){\n            submitPage()\n        }\n    }, [finished]);\n\n        return(\n            <div className=\"center\">\n                <p>LE DESSIN A INTERPRETER</p>\n                <CanvasDraw\n                className=\"guessing-mode__canvas\"\n                disabled\n                hideGrid\n                loadTimeOffset={0}\n                saveData={lastPage.content}\n                hideInterface={true}\n                />\n                <p>Le mot deviné :</p>\n                <input\n                    placeholder=\"Je vois je vois...\"\n                    disabled={finished}\n                    onChange={e=>setContent(e.target.value)}\n                />\n          </div>\n        )\n\n}\n\nexport default applyCountdown(GuessingPanel);","import React from 'react';\nimport './Drawing.css';\n\nexport default function DeleteLastStroke({content}){\n    return(\n        <div className=\"drawing-controls center\">\n            <div\n                className=\"waves-effect waves-light btn\"\n                onClick={() => {content.undo();}}\n            >\n                {/* <i className=\"material-icons left\">arrow_back</i> */}\n                Revenir en arrière\n            </div>\n        </div>\n    )\n}","import React from 'react';\nimport './Drawing.css';\n\nexport default function DrawingControls({content}){\n    return(\n        <div className=\"drawing-controls center\">\n            <div\n                className=\"waves-effect waves-light btn red\"\n                onClick={() => {content.clear();}}\n            >\n                <i className=\"material-icons left\">delete_forever</i>\n                Tout Effacer\n            </div>\n        </div>\n    )\n}","import React from 'react';\nimport { CirclePicker } from 'react-color';\nimport DeleteLastStroke from './DeleteLastStroke';\nimport DeleteAll from './DeleteAll';\n\nexport default function DrawingTools({setBrushColor, setBrushRadius, brushRadius, content}){\n    return(\n        <div className=\"center drawing-tools\">\n            <DeleteAll\n            content={content}\n            />\n            <div className=\"drawing-tools__color\">\n                <p>Couleur du crayon</p>\n                <CirclePicker \n                onChange={ (color, event)=>setBrushColor(color.hex) }\n                colors={[\"#f9cee7\", \"#FD6C9E\", \"#e91e63\", \"#9c27b0\", \"#673ab7\", \"#3f51b5\", \"#2196f3\", \"#03a9f4\", \"#00bcd4\", \"#2c4c3b\", \"#009688\", \"#4caf50\", \"#8bc34a\", \"#cddc39\", \"#ffeb3b\", \"#ffc107\", \"#ff9800\", \"#ff5722\", \"#f44336\", \"#B38539\", \"#795548\",\"#ababab\", \"#607d8b\",\"#000000\" ]}\n                color={\"#000000\"}\n                />\n            </div>\n\n            <div className=\"\">\n                <p>Taille du crayon</p>\n                <div className={`btn-floating waves-effect waves-light icon ${brushRadius===1 && 'disabled'}`}>\n                    <i className=\"material-icons\"\n                    onClick={()=>setBrushRadius(brushRadius-1)}\n                    >\n                        remove\n                    </i>\n                </div>\n                <span className=\"brush-size\">\n                    {brushRadius}\n                </span>\n                <div className={`btn-floating waves-effect waves-light icon ${brushRadius===10 && 'disabled'}`}>\n                    <i className=\"material-icons\"\n                    onClick={()=>setBrushRadius(brushRadius+1)}\n                    >\n                        add\n                    </i>\n                </div>\n                <DeleteLastStroke\n                    content={content}\n                />\n            </div>\n        </div>\n    )\n}","import React, {useState, useEffect} from 'react';\nimport CanvasDraw from \"react-canvas-draw\";\nimport DrawingTools from './DrawingTools';\nimport DeleteAll from './DeleteAll';\nimport DeleteLastStroke from \"./DeleteLastStroke\";\nimport applyCountdown from 'components/Counter/applyCountdown';\nimport {SUBMIT_PAGE} from 'graphQL/mutations';\nimport {useMutation} from '@apollo/react-hooks';\nimport './Drawing.css';\n\n\nconst DrawingMode=({lastPage, finished, gameId, sketchbookId})=>{\n    const [brushColor, setBrushColor]=useState(\"#000000\");\n    const [brushRadius, setBrushRadius]=useState(2);\n    const [content, setContent]=useState('');\n\n    const pageType = 'drawing';\n    const [submitPage, {loading, error}]= useMutation(SUBMIT_PAGE, {\n        variables :{\n            content: content && content.getSaveData(),\n            pageType,\n            gameId,\n            sketchbookId\n        },\n        onCompleted:()=>{\n            console.log('PAGE SUBMITTED FOR SKETCHBOOK', sketchbookId, \"with content \", content)\n        }\n    });\n\n    window.onbeforeunload = function(){\n        console.log('LEAVING PAGE')\n        submitPage()\n    };\n\n    useEffect(() => {\n        if(finished){\n            submitPage()\n        }\n    }, [finished]);\n\n        return(\n            <div className=\"drawing-mode\">\n                <div className=\"row\">\n                    <div className=\"col m4 s12\">\n                        <DrawingTools\n                        setBrushColor={setBrushColor}\n                        setBrushRadius={setBrushRadius}\n                        content={content}\n                        brushRadius={brushRadius}\n                        content={content}\n                        />\n                    </div>\n                    <div className=\"col m8 s12\">\n                        <div className=\"center\">\n                            <p>LE MOT A DESSINER EST</p>\n                            <h3>{lastPage.content}</h3>\n                        </div>\n                        <CanvasDraw\n                            ref={canvasDraw => setContent(canvasDraw)}\n                            brushRadius= {brushRadius}\n                            lazyRadius={2}\n                            brushColor={brushColor}\n                            className=\"drawing-mode__canvas\"\n                            disabled={finished}\n                            hideGrid={finished}\n                            canvasWidth={500}\n                            canvasHeight={400}\n                        />\n                    </div>\n                </div>\n            </div>\n        )\n}\n\nexport default applyCountdown(DrawingMode)","import React, {useState, useEffect} from 'react';\nimport applyCountdown from 'components/Counter/applyCountdown';\nimport {useMutation} from '@apollo/react-hooks';\nimport {SUBMIT_PAGE} from 'graphQL/mutations';\n\n\nconst InitMode = ({finished, gameId, sketchbookId})=>{\n    const pageType = 'init';\n    const [content, setContent] = useState('');\n    const [submitPage, {loading, error}]= useMutation(SUBMIT_PAGE, {\n        variables :{\n            content,\n            pageType,\n            gameId,\n            sketchbookId\n        },\n        onCompleted:()=>{\n            console.log('PAGE SUBMITTED FOR SKETCHBOOK', sketchbookId, \"with content \", content)\n        }\n    });\n\n    useEffect(() => {\n        if(finished){\n            submitPage()\n        }\n    }, [finished]);\n\n\n    window.onbeforeunload = function(){\n        console.log('LEAVING PAGE')\n        submitPage()\n      };\n\n    return(\n        <>\n            {\n                !finished\n                ?<p>Indiquez un mot pour commencer la partie</p>\n                : <p>Votre mot a été enregistré</p>\n            }\n            <input\n            placeholder=\"Mot Initial\"\n            type=\"text\"\n            value={content}\n            onChange={e=>setContent(e.target.value)}\n            disabled={finished}\n            />\n        </>\n    )\n}\n\nexport default applyCountdown(InitMode)","import React from 'react';\nimport Sherlock from 'images/sherlock.png';\nimport './SubmitMode.css';\n\nexport default function Modal(props){\n    return(\n        <div className=\"center submit-mode\">\n            <h3>Pas si vite l'ami!</h3>\n            <p>Après enquête on dirait bien que vous avez déjà envoyé votre réponse...</p> \n            <p>Attendez que tout le monde ai répondu pour continuer le jeu, ne touchez à rien la page se rechargera toute seule.</p>\n            <img src={Sherlock} alt=\"detective\"/>\n        </div>\n\n    )\n}","import React from 'react';\nimport {useParams} from 'react-router-dom';\nimport GuessingMode from 'components/GameModes/GuessingMode';\nimport DrawingMode from 'components/GameModes/DrawingMode';\nimport InitMode from 'components/GameModes/InitMode';\nimport SubmitMode from 'components/GameModes/SubmitMode';\n\nconst timers ={\n    \"init\":60000,\n    \"drawing\":90000,\n    \"guessing\":30000,\n    \"loading\":0\n}\n\nexport default function GameMode({pages, sketchbookId, turn}){\n    const {gameId} = useParams();\n    const getGameMode = ()=>{\n        let mode = \"loading\";\n        if(pages.length===0){\n            mode = \"init\";\n        }\n        else if(pages.length>0 && pages.length<=turn){\n            return pages[pages.length-1].pageType===\"drawing\"\n            ? \"guessing\"\n            : \"drawing\"\n        }\n        else{\n            mode = \"submitted\"\n        }\n        return mode\n    }\n\n    const lastPage = pages.length>0 ? pages[pages.length-1] : {}\n    const gameMode = getGameMode()\n    const gameProps = {\n        timer: timers[gameMode],\n        gameId,\n        sketchbookId,\n        lastPage\n    }\n    \n    const selectGameDisplay = ()=>{\n        if(gameMode==\"init\"){\n            return <InitMode \n            {...gameProps}\n            />\n        }\n        else if(gameMode===\"drawing\"){\n            return <DrawingMode \n            {...gameProps}\n            />\n        }\n        else if(gameMode===\"guessing\"){\n            return <GuessingMode \n            {...gameProps}\n            />\n        }\n        else{\n            return <SubmitMode/>\n        }\n    }\n\n    return(\n        <div>\n            {selectGameDisplay()}\n        </div>\n    )\n}","import React, { useState } from 'react';\nimport requireAuth from 'components/requireAuth';\nimport {useQuery} from '@apollo/react-hooks';\nimport Loading from 'components/Loading';\nimport {GET_SKETCHBOOK_DETAILS} from 'graphQL/queries';\nimport GameModes from 'components/GameModes';\n\n\n\n\nconst ActiveGame = ({gameInfo, userId})=>{\n    const turn = gameInfo.turn\n    const [pages, setPages] = useState({});\n\n\n    const getSketchbookId = ()=>{\n        let sketchbookId=\"\"\n        if(gameInfo.players){\n            const playersIds = gameInfo.players.map(player=>player.id)\n            const nextIndex = playersIds.indexOf(userId)+turn\n            const sketchbooksMaxIndexes = gameInfo.sketchbooks.length-1;\n            const newIndex = (nextIndex>sketchbooksMaxIndexes) ? (nextIndex-sketchbooksMaxIndexes-1) : nextIndex\n            sketchbookId = gameInfo.sketchbooks.map(sketchbook=>sketchbook.id)[newIndex]\n        }\n        return sketchbookId\n    }\n    const sketchbookId = getSketchbookId();\n\n    const {data, loading, error} =useQuery(\n        GET_SKETCHBOOK_DETAILS,\n        {\n            variables: {\n                sketchbookId\n            },\n            fetchPolicy:'network-only',\n            onCompleted({getSketchbookInfo}){\n                setPages(getSketchbookInfo.pages)\n            },\n            onError(...error) {\n                console.log(error)\n            }\n        }\n    );\n\n    if(loading) return <Loading/>\n\n    return(\n        <div className=\"active-game\">\n            {\n                <GameModes\n                    pages={pages}\n                    sketchbookId={sketchbookId}\n                    turn={turn}\n                />\n            }\n        </div>\n    )\n}\n\nexport default requireAuth(ActiveGame);","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport Wrong from 'images/wrong.png'\n\nexport default function NothingToSee(){\n    return(\n        <div className=\"center\">\n            <h3>Rien à voir ici circulez!</h3>\n            <p>Cette partie a été abandonnée vous ne pouvez pas y accéder.</p>\n            <div>\n                <img src={Wrong} alt=\"stop\"/>\n            </div>\n            <Link to=\"/\">\n                <button className=\"btn\">Revenir à la civilisation</button>\n            </Link>\n        </div>\n    )\n}","import React from 'react';\nimport Lapin from 'images/lapin.png'\n\nconst styles={\n    illustration:{\n        width:\"100%\",\n        maxWidth:300,\n        marginTop:30\n    },\n    marginNull:{\n        margin:0\n    },\n    pageWrapper:{\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        flexDirection: \"column\",\n        height: \"calc(100vh - 90px)\"\n    }\n}\n\nexport default function OnGoingGame(){\n    return(\n        <div class=\"center\" style={styles.pageWrapper}>\n            <h3>Vous êtes en retard!</h3>\n            <p>Cette partie a déjà commencé vous ne pouvez plus la rejoindre.</p>\n            <p style={styles.marginNull}> Attendez la fin pour découvrir les résultats.</p>\n            <img style={styles.illustration} src={Lapin} alt='lapin'/>\n        </div>\n    )\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M181.656,424h-80c-4.418,0-8-3.582-8-8v-48h40v-16h-48c-4.418,0-8,3.582-8,8v24h-24c-2.122,0-4.156,0.844-5.656,2.344 l-48,48l11.312,11.312L56.968,400h20.688v16c0,13.255,10.745,24,24,24h80c13.255,0,24-10.745,24-24h-16 C189.656,420.418,186.074,424,181.656,424z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M56.968,256h44.688c4.418,0,8,3.582,8,8v56h-8c-4.418,0-8-3.582-8-8v-32h-16v16c-0.026,22.08-17.92,39.974-40,40v16 c18.401-0.01,35.621-9.067,46.056-24.224c4.513,5.203,11.056,8.202,17.944,8.224h16c4.418,0,8-3.582,8-8v-64 c0-13.255-10.745-24-24-24h-48c-2.122,0-4.156,0.844-5.656,2.344l-48,48l11.312,11.312L56.968,256z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M205.656,256h-32c-13.197-0.058-23.943,10.593-24.002,23.79c-0.026,5.995,2.201,11.781,6.242,16.21 c-8.32,9.044-8.32,22.956,0,32c-8.32,9.044-8.32,22.956,0,32c-8.894,9.75-8.2,24.864,1.55,33.758 c4.429,4.04,10.215,6.268,16.21,6.242h32c13.255,0,24-10.745,24-24v-96C229.656,266.745,218.911,256,205.656,256z M213.656,376 c0,4.418-3.582,8-8,8h-32c-4.418,0-8-3.582-8-8s3.582-8,8-8h40V376z M213.656,352h-40c-4.418,0-8-3.582-8-8s3.582-8,8-8h40V352z  M213.656,320h-40c-4.418,0-8-3.582-8-8s3.582-8,8-8h40V320z M213.656,288h-40c-4.418,0-8-3.582-8-8s3.582-8,8-8h32 c4.418,0,8,3.582,8,8V288z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M253.824,252.048c-9.352-9.382-9.352-24.562,0-33.944c3.122-3.127,3.117-8.192-0.009-11.314 c-0.141-0.141-0.287-0.276-0.439-0.406c-6.592-5.664-12-10.848-17.024-16.064l23.624-23.624c5.208,5,10.4,10.4,16.064,17.024 c1.453,1.693,3.547,2.702,5.776,2.784c2.209,0.009,4.339-0.826,5.952-2.336c9.496-9.064,24.44-9.064,33.936,0l11.312-11.32 c-13.313-13.318-34.112-15.546-49.944-5.352c-16.842-17.93-35.658-33.898-56.088-47.6l-6.256-4.6 c2.282-3.184,1.923-7.552-0.848-10.32l-22.632-22.632c-3.124-3.123-8.188-3.123-11.312,0l-12.28,12.28V64c0-4.418-3.582-8-8-8 h-48c-4.418,0-8,3.582-8,8v32c-0.001,3.919,2.837,7.261,6.704,7.896l-1.168,7.648c-4.766,24.148-6.779,48.758-6,73.36 C90.802,188.91,77.679,205.178,77.656,224h16c0-13.255,10.745-24,24-24c4.418,0.012,8.01-3.559,8.023-7.977 c0.001-0.208-0.007-0.415-0.023-0.623c-0.656-8.672-0.8-16.176-0.68-23.4h33.408c0.152,7.2,0,14.728-0.68,23.4 c-0.331,4.406,2.972,8.246,7.377,8.578c0.191,0.014,0.383,0.022,0.575,0.023c13.255,0,24,10.745,24,24h-56v16h64 c4.418,0,8-3.582,8-8v-8c-0.023-18.822-13.146-35.09-31.536-39.096c0.632-12.029,0.335-24.089-0.888-36.072l1.392,1.392 c2.807,2.688,7.115,3.039,10.32,0.84l4.552,6.192c13.715,20.461,29.705,39.301,47.664,56.16 c-10.165,15.838-7.942,36.615,5.344,49.944l11.32,11.312l11.312-11.312L253.824,252.048z M157.656,88c-4.418,0-8,3.582-8,8 c0,0.396,0.029,0.792,0.088,1.184l2.56,16.8c0.096,0.608,0.176,1.128,0.264,1.728L152,116.288c-3.123,3.124-3.123,8.188,0,11.312 l2.768,2.768c1.144,7.856,2.088,14.912,2.68,21.632h-31.584c1.024-11.064,2.792-22.744,5.144-38.016l2.56-16.8 c0.654-4.37-2.358-8.442-6.728-9.096c-0.392-0.059-0.788-0.088-1.184-0.088V72h32V88z M225.656,178.4 c-7.104-8.56-14.12-18.088-23.272-30.568l-10.016-13.68c-1.389-1.865-3.521-3.033-5.84-3.2c-2.325-0.198-4.616,0.653-6.248,2.32 l-10.448-10.448l-0.224-1.504l21.984-21.992l11.32,11.32c-3.12,3.128-3.114,8.193,0.014,11.314 c0.278,0.277,0.575,0.533,0.89,0.766L217.52,132.8c12.456,9.136,21.96,16.136,30.504,23.2L225.656,178.4z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M366.96,164.848c-2.122,0-4.156,0.844-5.656,2.344l-33.952,33.952c-9.369,9.372-9.369,24.564,0,33.936l45.256,45.256 c3.124,3.123,8.188,3.123,11.312,0l11.336-11.32c4.519-4.488,7.052-10.599,7.032-16.968c0-0.512-0.112-1-0.144-1.504 c3.328,0.611,6.704,0.924,10.088,0.936c14.86,0.038,29.118-5.867,39.6-16.4l-11.32-11.312c-15.621,15.621-40.947,15.621-56.568,0 l-5.656-5.656l-5.656-5.656l-11.312,11.312l5.656,5.656l5.656,5.656l11.296,11.32c3.123,3.124,3.123,8.188,0,11.312l-5.656,5.656 l-39.592-39.592c-3.126-3.122-3.129-8.188-0.006-11.314c0.002-0.002,0.004-0.004,0.006-0.006l31.6-31.6h115.376v-16 L366.96,164.848z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M463.128,269.016l-16.968,16.976l-22.632-22.632l-11.312,11.312l45.256,45.256c3.126,3.122,3.129,8.188,0.006,11.314 c-0.002,0.002-0.004,0.004-0.006,0.006l-56.616,56.568c-3.164,3.016-8.14,3.016-11.304,0l-11.312,11.312 c9.372,9.369,24.564,9.369,33.936,0l56.576-56.568c9.373-9.372,9.375-24.568,0.003-33.941c-0.001-0.001-0.002-0.002-0.003-0.003 l-11.312-11.312l14.624-14.632h13.592v-16h-16.872C466.662,266.672,464.628,267.516,463.128,269.016z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M396.616,348.216c0.035-12.764-9.993-23.289-22.744-23.872c-0.517-12.271-10.345-22.103-22.616-22.624 c-0.447-12.264-10.348-22.07-22.616-22.4c-0.493-13.193-11.587-23.488-24.78-22.995c-6.059,0.226-11.806,2.747-16.076,7.051 l-22.624,22.632c-9.369,9.372-9.369,24.564,0,33.936l11.312,11.312l22.624,22.632l22.624,22.632l11.312,11.312 c9.372,9.373,24.568,9.375,33.941,0.003c0.001-0.001,0.002-0.002,0.003-0.003L389.6,365.2 C394.116,360.705,396.643,354.588,396.616,348.216z M276.456,308.616c-3.123-3.124-3.123-8.188,0-11.312l22.624-22.632 c3.126-3.124,8.192-3.122,11.316,0.004c3.124,3.126,3.122,8.192-0.004,11.316l-28.28,28.28L276.456,308.616z M293.424,325.6 l28.28-28.296c3.164-3.025,8.148-3.025,11.312,0c3.118,3.123,3.118,8.181,0,11.304l-28.28,28.28L293.424,325.6z M327.36,359.528 l-11.304-11.312l28.272-28.28c3.124-3.126,8.19-3.128,11.316-0.004c3.126,3.124,3.128,8.19,0.004,11.316L327.36,359.528z  M378.272,353.872l-22.624,22.632c-3.122,3.126-8.188,3.129-11.314,0.006c-0.002-0.002-0.004-0.004-0.006-0.006l-5.656-5.656 l28.288-28.288c3.124-3.123,8.188-3.123,11.312,0C381.395,345.684,381.395,350.748,378.272,353.872z\"\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 221.656,\n  y: 40,\n  width: 16,\n  height: 32\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 281.666,\n  y: 51.027,\n  transform: \"matrix(0.7071 0.7071 -0.7071 0.7071 132.9236 -184.9083)\",\n  width: 16,\n  height: 33.944\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 293.656,\n  y: 120,\n  width: 32,\n  height: 16\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 40.97,\n  y: 51.312,\n  transform: \"matrix(0.707 0.7072 -0.7072 0.707 58.6331 -22.9116)\",\n  width: 32,\n  height: 16\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 43.181,\n  y: 148.694,\n  transform: \"matrix(-0.7071 -0.7071 0.7071 -0.7071 -29.0843 317.3402)\",\n  width: 16,\n  height: 32\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 5.656,\n  y: 104,\n  width: 32,\n  height: 16\n}))));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar SvgBeer = function SvgBeer(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 485.656 485.656\",\n    style: {\n      enableBackground: \"new 0 0 485.656 485.656\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgBeer, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/beer.f6d544a2.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m166.003906 103.195312c-8.183594 5.539063-19.394531 13.125-19.394531 28.578126 0 5.523437 4.476563 10 10 10s10-4.476563 10-10c0-4.402344 3.066406-6.914063 10.601563-12.011719 8.1875-5.539063 19.398437-13.125 19.398437-28.582031 0-15.457032-11.210937-23.039063-19.398437-28.578126-7.535157-5.097656-10.601563-7.609374-10.601563-12.011718s3.066406-6.914063 10.601563-12.011719c8.1875-5.539063 19.398437-13.121094 19.398437-28.578125 0-5.519531-4.480469-10-10-10-5.523437 0-10 4.480469-10 10 0 4.402344-3.070313 6.914062-10.605469 12.011719-8.183594 5.539062-19.394531 13.121093-19.394531 28.578125 0 15.457031 11.207031 23.039062 19.394531 28.578125 7.535156 5.097656 10.605469 7.609375 10.605469 12.015625 0 4.402344-3.070313 6.914062-10.605469 12.011718zm0 0\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m234.988281 103.195312c-8.183593 5.539063-19.394531 13.121094-19.394531 28.578126 0 5.523437 4.476562 10 10 10s10-4.476563 10-10c0-4.402344 3.066406-6.914063 10.601562-12.011719 8.1875-5.539063 19.398438-13.125 19.398438-28.582031 0-15.457032-11.210938-23.039063-19.398438-28.578126-7.535156-5.097656-10.605468-7.609374-10.605468-12.011718s3.070312-6.914063 10.605468-12.011719c8.1875-5.539063 19.398438-13.125 19.398438-28.578125 0-5.523438-4.480469-10-10-10-5.523438 0-10 4.476562-10 10 0 4.398438-3.070312 6.914062-10.605469 12.011719-8.1875 5.539062-19.398437 13.121093-19.398437 28.578125 0 15.453125 11.210937 23.039062 19.398437 28.574218 7.535157 5.101563 10.605469 7.613282 10.605469 12.015626 0 4.40625-3.066406 6.917968-10.605469 12.015624zm0 0\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m303.972656 103.195312c-8.183594 5.539063-19.394531 13.125-19.394531 28.578126 0 5.523437 4.476563 10 10 10s10-4.476563 10-10c0-4.402344 3.070313-6.914063 10.605469-12.011719 8.183594-5.539063 19.394531-13.125 19.394531-28.582031 0-15.457032-11.210937-23.039063-19.394531-28.578126-7.535156-5.097656-10.605469-7.609374-10.605469-12.011718s3.070313-6.914063 10.605469-12.011719c8.183594-5.539063 19.394531-13.121094 19.394531-28.578125 0-5.519531-4.480469-10-10-10-5.523437 0-10 4.480469-10 10 0 4.402344-3.070313 6.914062-10.605469 12.011719-8.183594 5.539062-19.394531 13.121093-19.394531 28.578125 0 15.457031 11.210937 23.039062 19.394531 28.578125 7.535156 5.097656 10.605469 7.609375 10.605469 12.015625 0 4.402344-3.070313 6.914062-10.605469 12.011718zm0 0\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m453.414062 229.445312h-36.582031c1.152344-7.113281 1.902344-14.355468 2.222657-21.710937 11.519531-4.023437 19.808593-14.992187 19.808593-27.867187 0-16.273438-13.242187-29.515626-29.519531-29.515626h-355.273438c-16.277343 0-29.515624 13.242188-29.515624 29.515626 0 12.875 8.285156 23.84375 19.804687 27.867187.324219 7.355469 1.074219 14.597656 2.222656 21.707031h-36.582031c-5.523438 0-10 4.480469-10 10 0 5.523438 4.476562 10 10 10h40.957031c13.777344 49.683594 47.53125 91.140625 92.035157 115.136719l-23.660157 44.40625c-.015625.027344-.027343.050781-.042969.078125l-44.191406 82.9375h-15.214844c-5.523437 0-10 4.480469-10 10 0 5.523438 4.476563 10 10 10h42.433594c5.523438 0 10-4.476562 10-10 0-5.519531-4.476562-10-10-10h-4.558594l36.351563-68.214844h197.578125l36.347656 68.214844h-6.9375c-5.519531 0-10 4.480469-10 10 0 5.523438 4.480469 10 10 10h42.433594c5.523438 0 10-4.476562 10-10 0-5.519531-4.476562-10-10-10h-12.832031l-44.199219-82.941406c-.011719-.023438-.023438-.046875-.035156-.070313l-24.203125-45.417969c43.59375-24.140624 76.609375-65.132812 90.195312-114.125h40.957031c5.519532 0 10-4.480468 10-10 0-5.523437-4.476562-10-10-10zm-308.648437 174.339844 16.335937-30.664062c21.808594 8.894531 45.640626 13.808594 70.605469 13.808594 25.710938 0 50.226563-5.203126 72.558594-14.609376l16.765625 31.464844zm86.941406-36.855468c-89.027343 0-162.0625-69.792969-167.25-157.542969h334.5c-5.1875 87.75-78.21875 157.542969-167.25 157.542969zm177.636719-177.542969h-355.273438c-5.246093 0-9.515624-4.269531-9.515624-9.519531 0-5.246094 4.269531-9.515626 9.515624-9.515626h355.273438c5.25 0 9.519531 4.269532 9.519531 9.515626 0 5.25-4.269531 9.519531-9.519531 9.519531zm0 0\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m231.707031 349.332031c51.9375 0 99.464844-26.363281 127.140625-70.519531 2.933594-4.679688 1.519532-10.851562-3.164062-13.785156-4.679688-2.933594-10.851563-1.515625-13.78125 3.164062-23.996094 38.28125-65.1875 61.140625-110.195313 61.140625-5.523437 0-10 4.476563-10 10 0 5.519531 4.476563 10 10 10zm0 0\"\n});\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m357.238281 240.753906c1.628907 3.902344 5.632813 6.421875 9.859375 6.152344 4.007813-.257812 7.527344-2.964844 8.832032-6.761719 1.398437-4.066406-.074219-8.757812-3.558594-11.28125-3.21875-2.335937-7.625-2.546875-11.039063-.507812-4.195312 2.507812-5.972656 7.882812-4.09375 12.398437zm0 0\"\n});\n\nvar SvgBbq = function SvgBbq(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: \"512pt\",\n    viewBox: \"-24 0 512 512.001\",\n    width: \"512pt\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgBbq, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/bbq.a605e7ff.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m63 20.489h-.081c-.488-3.386-3.401-5.999-6.92-5.999s-6.432 2.613-6.92 5.999h-3.178c1.293-1.27 2.099-3.037 2.099-4.989 0-3.859-3.141-7-7-7-2.321 0-4.017.621-5.514 1.17-1.219.446-2.271.832-3.486.832s-2.268-.386-3.486-.832c-1.497-.549-3.193-1.17-5.514-1.17-3.859 0-7 3.141-7 7 0 1.952.806 3.719 2.099 4.989h-3.179c-.488-3.385-3.401-5.999-6.92-5.999s-6.432 2.613-6.92 5.999h-.08c-.553 0-1 .447-1 1v10.01c0 13.234 10.767 24.001 24.001 24.001.012 0 .022-.007.034-.007h15.93c.012 0 .022.007.034.007 13.234 0 24.001-10.767 24.001-24.001v-10.01c0-.552-.447-1-1-1zm-7.001-3.999c2.414 0 4.434 1.721 4.898 3.999h-9.797c.465-2.278 2.485-3.999 4.899-3.999zm-9.999-.99c0 2.721-2.188 4.932-4.894 4.989h-13.33c2.438-1.697 4.58-3.912 4.949-4.302 2.085-2.198 6.173-5.687 8.275-5.687 2.757 0 5 2.243 5 5zm-28 0c0-2.757 2.243-5 5-5 1.966 0 3.42.532 4.825 1.048 1.281.469 2.605.954 4.175.954.713 0 1.37-.108 2-.261-1.412 1.208-2.476 2.308-2.726 2.571-2.049 2.161-6.031 5.563-8.162 5.677h-.219c-2.705-.057-4.893-2.268-4.893-4.989zm-10 .99c2.414 0 4.434 1.721 4.898 3.999h-9.796c.464-2.278 2.484-3.999 4.898-3.999zm32.146 37.006c-.006 0-.01-.003-.016-.003h-16.13c-.011 0-.02.006-.03.006-12.117-.017-21.97-9.879-21.97-22v-9.009c.002 0 .003-.001.005-.001h11.99c.002 0 .003.001.005.001s.003-.001.005-.001h8.783c.071.002.141.011.212.011h18c.071 0 .141-.009.212-.011h8.782c.002 0 .003.001.005.001s.003-.001.005-.001h11.99c.002 0 .003.001.005.001h.001v9.009c0 12.083-9.79 21.918-21.854 21.997z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m58 25.495c-.553 0-1 .447-1 1v5.004c0 9.374-7.627 17.001-17.001 17.001-.553 0-1 .447-1 1s.447 1 1 1c10.478 0 19.001-8.523 19.001-19.001v-5.004c0-.553-.447-1-1-1z\"\n});\n\nvar SvgBowl = function SvgBowl(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"icons\",\n    enableBackground: \"new 0 0 64 64\",\n    height: 512,\n    viewBox: \"0 0 64 64\",\n    width: 512,\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgBowl, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/bowl.40be09e3.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M310.509,123.426c-12.604-8.067-27.178-12.332-42.144-12.332h-15.278V98.363h14.897c2.112,0,4.128-0.891,5.549-2.454 c1.422-1.563,2.117-3.653,1.917-5.757l-7.938-83.363C267.147,2.94,263.914,0,260.047,0h-78c-3.867,0-7.1,2.94-7.466,6.789 l-7.938,83.363c-0.2,2.103,0.495,4.193,1.917,5.757c1.421,1.563,3.437,2.454,5.549,2.454h14.898v12.731h-15.278 c-14.966,0-29.539,4.264-42.145,12.332c-22.565,14.441-36.037,39.059-36.037,65.85v245.318c0,4.142,3.357,7.5,7.5,7.5h236 c4.143,0,7.5-3.358,7.5-7.5V189.276C346.547,162.484,333.074,137.868,310.509,123.426z M188.866,15h64.361l6.509,68.363h-77.38 L188.866,15z M204.007,98.363h34.08v12.731h-34.08V98.363z M331.547,427.094h-221V189.276c0-21.651,10.887-41.545,29.123-53.216 c10.187-6.52,21.964-9.965,34.059-9.965h94.637c12.095,0,23.871,3.446,34.058,9.965c18.236,11.671,29.124,31.565,29.124,53.216 V427.094z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M286.586,193.094H155.507c-12.504,0-22.676,10.172-22.676,22.676v121.647c0,12.504,10.172,22.676,22.676,22.676h131.079 c12.504,0,22.677-10.172,22.677-22.676V215.771C309.263,203.267,299.09,193.094,286.586,193.094z M294.263,337.418 c0,4.233-3.443,7.676-7.677,7.676H155.507c-4.232,0-7.676-3.443-7.676-7.676V215.771c0-4.233,3.443-7.676,7.676-7.676h131.079 c4.233,0,7.677,3.443,7.677,7.676V337.418z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M254.272,215.054c-14.301,0-26.785,9.669-30.361,23.514l-2.868,11.1l-2.868-11.099 c-3.577-13.845-16.059-23.514-30.353-23.514c-8.388,0-16.265,3.265-22.168,9.181c-5.927,5.915-9.191,13.792-9.191,22.179 c0,14.287,9.667,26.772,23.514,30.362l11.447,2.957c-0.573,2.206-0.878,4.519-0.878,6.901c0,3.459,0.648,6.768,1.819,9.819 l-10.907,18.348c-1.624,2.732-1.35,6.192,0.686,8.634l10,12c1.483,1.78,3.617,2.699,5.766,2.699c1.692,0,3.396-0.57,4.798-1.738 c3.182-2.652,3.611-7.381,0.96-10.563l-6.604-7.926l5.211-8.766c4.469,3.141,9.907,4.993,15.772,4.993h6 c5.865,0,11.303-1.852,15.772-4.993l5.211,8.766l-6.604,7.926c-2.651,3.182-2.222,7.911,0.96,10.563 c1.402,1.168,3.104,1.739,4.798,1.738c2.148,0,4.282-0.919,5.766-2.699l10-12c2.035-2.442,2.31-5.901,0.686-8.634l-10.907-18.348 c1.171-3.052,1.819-6.36,1.819-9.819c0-2.383-0.306-4.696-0.878-6.902l11.456-2.958c13.842-3.588,23.509-16.073,23.509-30.36 c0-8.389-3.265-16.266-9.188-22.174C270.521,218.316,262.646,215.054,254.272,215.054z M171.462,246.414 c0-4.375,1.7-8.481,4.798-11.573c3.081-3.087,7.187-4.787,11.562-4.787c7.454,0,13.963,5.044,15.829,12.267l4.792,18.547 c-3.326,1.244-6.349,3.111-8.925,5.464l-15.784-4.077C176.508,260.381,171.462,253.867,171.462,246.414z M224.045,299.134h-6 c-6.893,0-12.5-5.607-12.5-12.5s5.607-12.5,12.5-12.5h6c6.893,0,12.5,5.607,12.5,12.5S230.938,299.134,224.045,299.134z  M258.366,262.252l-15.795,4.078c-2.577-2.353-5.602-4.222-8.93-5.465l4.792-18.545c1.865-7.222,8.378-12.266,15.838-12.266 c4.368,0,8.476,1.702,11.573,4.799c3.087,3.08,4.787,7.186,4.787,11.561C270.632,253.867,265.585,260.381,258.366,262.252z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M227.97,46.316c-2.562-6.189-11.707-5.985-13.984,0.341c-1.102,3.061-0.026,6.615,2.592,8.547 c2.583,1.907,6.157,1.942,8.783,0.106C228.188,53.334,229.313,49.503,227.97,46.316C227.78,45.856,228.159,46.766,227.97,46.316z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M221.047,21.682c-15.163,0-27.5,12.336-27.5,27.5s12.337,27.5,27.5,27.5s27.5-12.336,27.5-27.5 S236.21,21.682,221.047,21.682z M221.047,61.682c-6.893,0-12.5-5.607-12.5-12.5s5.607-12.5,12.5-12.5s12.5,5.607,12.5,12.5 S227.94,61.682,221.047,61.682z\"\n}));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar SvgInsecticide = function SvgInsecticide(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 442.094 442.094\",\n    style: {\n      enableBackground: \"new 0 0 442.094 442.094\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgInsecticide, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/insecticide.6a909bb4.svg\";\nexport { ForwardRef as ReactComponent };","import React, {useState} from 'react';\nimport Bg from 'images/summer-night.jpg';\nimport './SummerNight.css';\nimport SummerSound from 'sounds/nightSounds.mp3';\nimport OpenBottle from 'sounds/open_bottle.mp3';\nimport BbqSound from 'sounds/bbqsound.mp3';\nimport CrispsSound from 'sounds/chips.mp3';\nimport MosquitoSound from 'sounds/moustique.mp3';\nimport {ReactComponent as Beer} from 'images/beer.svg';\nimport {ReactComponent as Bbq} from 'images/bbq.svg';\nimport {ReactComponent as Bowl} from 'images/bowl.svg';\nimport {ReactComponent as Mosquito} from 'images/insecticide.svg';\n\nexport default function SummerNight(){\n    const [summerNightMode, setSummerNightMode] = useState(false);\n\n    const playSound = (soundId)=>{\n        const audioEl = document.getElementById(soundId)\n        audioEl.play()\n    }\n    return(\n        <>  \n            <div className=\"summer-mode__background\"  style={summerNightMode ? {background: `url(${Bg})`}:{}}>\n            </div>\n            {\n                summerNightMode && \n                <div style={{display:\"none\"}}>\n                    <audio src={SummerSound} autoPlay loop/>\n                    <audio id=\"bottleSound\" src={OpenBottle}/>\n                    <audio id=\"bbqSound\" src={BbqSound}/>\n                    <audio id=\"crispsSound\" src={CrispsSound}/>\n                    <audio id=\"mosquitoSound\" src={MosquitoSound}/>\n                </div>\n\n            }\n            <div className=\"container summer-mode\">\n                <div className=\"switch\">\n                    <label>\n                    <input type=\"checkbox\"\n                        onClick={()=>setSummerNightMode(!summerNightMode)}\n                    />\n                    <span className=\"lever\">\n                    </span>\n                    Mode Apéro en Terrasse\n                    </label>\n                </div>\n                {\n                    summerNightMode &&\n                    <>\n                    <h6 className=\"center\">Summer Simulator 2020</h6>\n                    <div className=\"summer-mode__simulator\">\n                        <div className=\"summer-mode__simulator-item center\"\n                        onClick={()=>playSound(\"bottleSound\")}>\n                            <Beer className=\"summer-mode__svg\"/>\n                            <span>Prends toi une bière</span>\n                        </div>\n                        <div className=\"summer-mode__simulator-item center\"\n                        onClick={()=>playSound(\"bbqSound\")}\n                        >\n                            <Bbq className=\"summer-mode__svg\"/>\n                            <span>Surveille le barbecue</span>\n                        </div>\n                        <div className=\"summer-mode__simulator-item center\"\n                        onClick={()=>playSound(\"crispsSound\")}\n                        >\n                            <Bowl className=\"summer-mode__svg\"/>\n                            <span>Des chips?</span>\n                        </div>\n                        <div className=\"summer-mode__simulator-item center\"\n                        onClick={()=>playSound(\"mosquitoSound\")}\n                        >\n                            <Mosquito className=\"summer-mode__svg\"/>\n                            <span>Remets de l'anti-moustique</span>\n                        </div>\n                    </div>\n                    </>\n                }\n            </div>\n\n        </>\n    )\n}","import React, {useState, useEffect} from 'react';\nimport GameOver from './GameOver';\nimport NewGame from './NewGame';\nimport ActiveGame from './ActiveGame';\nimport {useParams} from 'react-router-dom';\nimport {useQuery, useSubscription, useMutation} from '@apollo/react-hooks';\nimport requireAuth from 'components/requireAuth';\nimport Loading from 'components/Loading';\nimport {GET_GAME_INFO, GET_USER_ID} from 'graphQL/queries';\nimport {LEAVE_GAME} from 'graphQL/mutations';\nimport {GAME_UPDATE} from 'graphQL/subscriptions';\nimport NothingToSee from 'components/NothingToSee';\nimport OnGoingGame from './OnGoingGame';\nimport SummerNight from 'components/SummerNight';\n\n\nconst Game = (props)=>{\n    const {gameId} = useParams();\n    const [gameInfo, setGameInfo] = useState({})\n    const user = useQuery(GET_USER_ID).data\n    const userId = user && user.userId\n    const [leaveGame] = useMutation(LEAVE_GAME, {variables:{gameId}, refetchQueries: [{\n        query: GET_GAME_INFO,\n        variables: {gameId}\n    }]})\n\n\n    const { data, loading, error } = useQuery(\n        GET_GAME_INFO,\n        { variables: {gameId},\n            onCompleted({getGameInfo}){\n                console.log(\"GET_GAME_INFO \", getGameInfo)\n                setGameInfo(getGameInfo)\n            },\n            fetchPolicy:'network-only',\n            onError(...error) {\n              console.log(error)\n            }\n        }\n    );\n\n    const { dataSub, loadingSub } = useSubscription(\n        GAME_UPDATE, {variables:{gameId},\n        onSubscriptionData: ({client, subscriptionData})=>{\n            console.log('GAME UPDATED INFO ', subscriptionData.data.gameUpdate)\n            setGameInfo({...gameInfo, ...subscriptionData.data.gameUpdate})\n        },\n        onError(...error) {\n          console.log(error)\n        }\n        }\n    );\n\n    useEffect(() => {\n        return function cleanup() {\n            console.log(\"LEAVING GAME!\")\n            leaveGame()\n        };\n      }, []);\n\n    if(loading) return <Loading/>\n\n    const selectGameStatus = ({status})=>{\n        if(status===\"new\"){\n            return <NewGame \n            gameId={gameId} \n            playerslist={gameInfo.players}\n            creatorId={gameInfo.creator}\n            />\n        }\n        else if(status===\"active\" && gameInfo.players.map(player=>player.id).indexOf(userId)>-1){\n            return <ActiveGame\n                gameInfo={gameInfo}\n                userId={userId}\n            />\n        }\n        else if(status===\"active\"){\n            return <OnGoingGame/>\n        }\n        else if(status===\"over\"){\n            return <GameOver\n            gameId={gameId} \n            sketchbooks={gameInfo.sketchbooks}\n            />\n        }\n        else if(status==\"abandonned\"){\n            return <NothingToSee/>\n        }\n    }\n\n    return(\n        <div className=\"game-main\">\n            <SummerNight/>\n            <div className=\"container game-main__container\">\n                {gameInfo && selectGameStatus(gameInfo)}\n            </div>\n        </div>\n    )\n}\n\nexport default requireAuth(Game);","import React from \"react\";\nimport { useApolloClient } from \"@apollo/react-hooks\";\nimport {useHistory} from 'react-router-dom';\n\nexport default function LogoutButton() {\n  const client = useApolloClient();\n  const history = useHistory();\n  return (\n    <li\n      onClick={() => {\n        client.writeData({ data: { isLoggedIn: false, userId: null } });\n        localStorage.clear();\n        window.location.reload();\n        history.push('/');\n      }}\n    >\n        <a>\n           <i className=\"material-icons\">exit_to_app</i>\n        </a>\n    </li>\n  );\n}","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport LogoutButton from '../../components/LogoutBtn';\nimport './Header.css';\nimport requireAuth from 'components/requireAuth';\nimport {CURRENT_USER} from 'graphQL/queries';\nimport {useQuery} from '@apollo/react-hooks';\nimport {useHistory} from 'react-router-dom';\n\n\n\nexport default requireAuth(function Header(){\n    const history = useHistory();\n    const {data, loading, error}= useQuery(CURRENT_USER);\n    if(error && error.toString().indexOf('Not Authenticated')>-1){\n        localStorage.clear();\n        window.location.reload();\n        history.push('/');\n    }\n    const name = data && data.currentUser.name\n        return(\n            <nav>\n            <div className=\"nav-wrapper\">\n                <Link to=\"/\" className=\"brand-logo left\">\n                    <span className=\"nav__title\">Esquisse Live</span>\n                    <i className=\"material-icons\">brush</i>\n                 </Link>\n                <ul className=\"right nav__right-menu\">\n                    <LogoutButton/>\n                    <span>hello {name}</span>\n                </ul>\n            </div>\n        </nav>\n        )   \n})\n\n\n\n","import React from 'react';\nimport {useQuery, useApolloClient} from '@apollo/react-hooks';\nimport {CURRENT_USER} from 'graphQL/queries';\nimport Header from 'components/Header';\n\nexport default function ConnectedPageContainer(props){\n    const client = useApolloClient();\n    const { data, loading, error } = useQuery(\n        CURRENT_USER,\n        {\n            onCompleted({currentUser}){\n                client.writeData({\n                    data:{\n                        userId:currentUser.id,\n                    }\n                })\n            }\n        }\n    );\n    return(\n        <>\n        <Header/>\n        <div>{props.children}</div>\n        </>\n    )\n}","import React from 'react';\nimport {useParams} from 'react-router-dom';\nimport {useQuery} from '@apollo/react-hooks';\nimport {GET_ALL_SKETCHBOOKS} from 'graphQL/queries';\nimport Loading from 'components/Loading';\nimport SketchbookDisplay from 'components/SketchbookDisplay';\nimport './PdfFormat.css'\n\nexport default function PdfFormat(){\n    const {gameId} = useParams();\n    const {data, loading, error} = useQuery(GET_ALL_SKETCHBOOKS, {\n        variables:{gameId}\n    })\n\n    if(loading) return <Loading/>\n    return(\n        <div className=\"pdf-format center container\">\n            <h4>Une si belle partie!</h4>\n            <h5>avec la participation de  {data && data.getAllSketchbooks.map((sketchbook, index)=><span key={index}> {sketchbook.pages[0].creator.name} </span>)}</h5>\n            <p>cliquez sur options/imprimer/version-pdf dans votre navigateur pour garder un souvenir</p>\n            {\n                data && data.getAllSketchbooks.map(\n                    (sketchbook, index)=>{\n                        return(\n                            <div key={index} className=\"pdf-format__sketchbook\">\n                                <h4>carnet n°{index+1}</h4>\n                                <SketchbookDisplay sketchbook={sketchbook}/>\n                            </div>\n                        )\n                    }\n                )\n            }\n        </div>\n    )\n}","import React from 'react';\nimport {\n    HashRouter,\n    Switch,\n    Route,\n} from \"react-router-dom\";\n\nimport Home from './Home';\nimport Profile from './Profile';\nimport Game from './Game';\nimport ConnectedPageContainer from 'components/ConnectedPageContainer'\n\nimport { ApolloClient } from 'apollo-client';\nimport { ApolloProvider } from \"react-apollo\";\nimport { InMemoryCache } from 'apollo-cache-inmemory';\nimport { split, HttpLink } from '@apollo/client';\nimport { getMainDefinition } from '@apollo/client/utilities';\nimport { WebSocketLink } from '@apollo/link-ws';\nimport {resolvers, localType} from 'graphQL/localState';\nimport PdfFormat from 'components/PdfFormat';\n\nconst cache = new InMemoryCache();\n\nconst httpLink = new HttpLink({\n  headers: { authorization: localStorage.getItem('esquisse-token') },\n  uri: process.env.NODE_ENV === \"development\" ? 'http://localhost:4000/graphql' : \"https://esquisse-api.herokuapp.com/graphql\"\n});\n\nconst wsLink = new WebSocketLink({\n  uri: process.env.NODE_ENV === \"development\" ? `ws://localhost:4000/graphql` : \"wss://esquisse-api.herokuapp.com/graphql\",\n  options: {\n    reconnect: true\n  }\n});\n\nconst link = split(\n  ({ query }) => {\n    const definition = getMainDefinition(query);\n    return (\n      definition.kind === 'OperationDefinition' &&\n      definition.operation === 'subscription'\n    );\n  },\n  wsLink,\n  httpLink,\n);\n\nconst client = new ApolloClient({\n  cache,\n  link,\n  credentials: 'include',\n  localType,  resolvers,\n  dataIdFromObject: o=>o.id\n});\n\n\ncache.writeData({\n  data: {\n    isLoggedIn: !!localStorage.getItem('esquisse-token'),\n  },\n});\n\nexport default function ConnectedPaged(){\n    return(\n        <ApolloProvider client={client}>\n            <HashRouter>\n              <ConnectedPageContainer>\n                  <Switch>\n                      <Route path=\"/\" exact>\n                          <Home/> \n                      </Route>\n                      <Route path=\"/profile\">\n                          <Profile/> \n                      </Route>\n                      <Route \n                        path=\"/game/:gameId\"\n                      >\n                          <Game/>\n                      </Route>\n                      <Route \n                        path=\"/pdf/:gameId\"\n                      >\n                          <PdfFormat/>\n                      </Route>\n                  </Switch>\n              </ConnectedPageContainer>\n            </HashRouter>\n        </ApolloProvider>\n    )\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport AuthPage from 'layouts/AuthPage';\nimport ConnectedPages from 'layouts/ConnectedPages';\n\n\nfunction IsLoggedIn() {\n  return localStorage.getItem('esquisse-token') ? <ConnectedPages/> : <AuthPage/>;\n}\n\nconst Root = () => {\n  return (\n    <IsLoggedIn />\n  );\n};\n\nReactDOM.render(<Root />, document.querySelector('#root'));\n","module.exports = __webpack_public_path__ + \"static/media/gearLoader.b5d684c5.gif\";"],"sourceRoot":""}